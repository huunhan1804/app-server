2025-07-20T09:56:48.560+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 27478 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T09:56:48.562+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T09:56:48.595+07:00  INFO 27478 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T09:56:48.595+07:00  INFO 27478 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T09:56:49.038+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T09:56:49.105+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 62 ms. Found 19 JPA repository interfaces.
2025-07-20T09:56:49.476+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T09:56:49.481+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T09:56:49.481+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T09:56:49.512+07:00  INFO 27478 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T09:56:49.512+07:00  INFO 27478 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 917 ms
2025-07-20T09:56:49.599+07:00  INFO 27478 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T09:56:49.631+07:00  INFO 27478 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T09:56:49.633+07:00  INFO 27478 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T09:56:49.706+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T09:56:49.775+07:00  INFO 27478 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T09:56:49.785+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T09:56:50.067+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@68dfe175
2025-07-20T09:56:50.068+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T09:56:50.111+07:00  WARN 27478 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T09:56:50.301+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T09:56:50.924+07:00  INFO 27478 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T09:56:50.926+07:00  INFO 27478 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T09:56:51.400+07:00  INFO 27478 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T09:56:52.221+07:00  WARN 27478 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T09:56:52.643+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2b455ee6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7362bfc3, org.springframework.security.web.context.SecurityContextHolderFilter@25f30d0b, org.springframework.security.web.header.HeaderWriterFilter@302ef553, org.springframework.web.filter.CorsFilter@3d478ce9, org.springframework.security.web.authentication.logout.LogoutFilter@29372147, com.example.shoppingsystem.config.JwtAuthenticationFilter@2b7bb122, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14350133, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6b11f5cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c430f24, org.springframework.security.web.session.SessionManagementFilter@72d65446, org.springframework.security.web.access.ExceptionTranslationFilter@532ede57, org.springframework.security.web.access.intercept.AuthorizationFilter@71253b46]
2025-07-20T09:56:52.654+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1aa2f219, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@796ba13e, org.springframework.security.web.context.SecurityContextHolderFilter@6552cf98, org.springframework.security.web.header.HeaderWriterFilter@15846a40, org.springframework.web.filter.CorsFilter@4aaabd90, org.springframework.security.web.authentication.logout.LogoutFilter@6b96e624, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@46d99b20, org.springframework.security.web.session.ConcurrentSessionFilter@f1e8fed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e485538, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64be90c7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40202f7e, org.springframework.security.web.session.SessionManagementFilter@77802609, org.springframework.security.web.access.ExceptionTranslationFilter@3b0ef03a, org.springframework.security.web.access.intercept.AuthorizationFilter@5c7de1f2]
2025-07-20T09:56:52.655+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@77e6f949, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5be7d37b, org.springframework.security.web.context.SecurityContextHolderFilter@7173b10b, org.springframework.security.web.header.HeaderWriterFilter@34d2a92e, org.springframework.web.filter.CorsFilter@7da4414c, org.springframework.security.web.authentication.logout.LogoutFilter@3123a1d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@599d89f5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7c8ee5e5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3f0746f, org.springframework.security.web.access.ExceptionTranslationFilter@6fb941f2, org.springframework.security.web.access.intercept.AuthorizationFilter@f6e2887]
2025-07-20T09:56:52.840+07:00  INFO 27478 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T09:56:52.872+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T09:56:52.883+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.525 seconds (process running for 4.934)
2025-07-20T09:56:52.887+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T09:56:52.927+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T09:57:07.751+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T09:57:07.751+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T09:57:07.754+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 3 ms
2025-07-20T10:01:52.896+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:01:52.908+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:06:52.890+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:06:52.913+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:07:43.936+07:00  INFO 27478 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T10:07:43.958+07:00  INFO 27478 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:07:43.961+07:00  INFO 27478 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T10:07:43.969+07:00  WARN 27478 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [7F8FF67DD7F7998C6B02E322B6FB650D]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T10:07:43.980+07:00  WARN 27478 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:07:43.993+07:00  INFO 27478 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:07:43.996+07:00  INFO 27478 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:07:44.011+07:00  INFO 27478 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:07:44.110+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 27478 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:07:44.110+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:07:44.357+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:07:44.389+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 19 JPA repository interfaces.
2025-07-20T10:07:44.510+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:07:44.511+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:07:44.511+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:07:44.520+07:00  INFO 27478 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:07:44.520+07:00  INFO 27478 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 408 ms
2025-07-20T10:07:44.562+07:00  INFO 27478 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:07:44.566+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:07:44.566+07:00  INFO 27478 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:07:44.567+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-20T10:07:44.582+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@79780ff9
2025-07-20T10:07:44.582+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-20T10:07:44.583+07:00  WARN 27478 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:07:44.663+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:07:44.872+07:00  INFO 27478 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:07:44.872+07:00  INFO 27478 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:07:44.996+07:00  WARN 27478 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [7F8FF67DD7F7998C6B02E322B6FB650D]
2025-07-20T10:07:45.471+07:00  WARN 27478 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:07:45.722+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d0bb79a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f2b3ddb, org.springframework.security.web.context.SecurityContextHolderFilter@4e1e5ff6, org.springframework.security.web.header.HeaderWriterFilter@301d5266, org.springframework.web.filter.CorsFilter@3b86272d, org.springframework.security.web.authentication.logout.LogoutFilter@56588d45, com.example.shoppingsystem.config.JwtAuthenticationFilter@34d8b601, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@29ede726, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73b90e1f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@551c1513, org.springframework.security.web.session.SessionManagementFilter@473bc3cf, org.springframework.security.web.access.ExceptionTranslationFilter@b3d9536, org.springframework.security.web.access.intercept.AuthorizationFilter@2b38b98f]
2025-07-20T10:07:45.729+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40d1cfbb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7c0ac09f, org.springframework.security.web.context.SecurityContextHolderFilter@bef73eb, org.springframework.security.web.header.HeaderWriterFilter@5bf4e860, org.springframework.web.filter.CorsFilter@12f74f0e, org.springframework.security.web.authentication.logout.LogoutFilter@46ff8942, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7adefc3b, org.springframework.security.web.session.ConcurrentSessionFilter@1d071f62, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@77a42d1e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13a63544, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fc5464f, org.springframework.security.web.session.SessionManagementFilter@64e010ce, org.springframework.security.web.access.ExceptionTranslationFilter@2c774128, org.springframework.security.web.access.intercept.AuthorizationFilter@324b9b13]
2025-07-20T10:07:45.730+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@725270d6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@556931f6, org.springframework.security.web.context.SecurityContextHolderFilter@1b6b0a88, org.springframework.security.web.header.HeaderWriterFilter@3b73b81e, org.springframework.web.filter.CorsFilter@5a4f4c7f, org.springframework.security.web.authentication.logout.LogoutFilter@2f411bb9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@76145be0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4aa881ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@110f3bd6, org.springframework.security.web.access.ExceptionTranslationFilter@3ce01c19, org.springframework.security.web.access.intercept.AuthorizationFilter@7577cf97]
2025-07-20T10:07:45.820+07:00  INFO 27478 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:07:45.836+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:07:45.840+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.749 seconds (process running for 657.894)
2025-07-20T10:07:45.841+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:07:45.844+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:07:45.880+07:00  INFO 27478 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:07:47.263+07:00  INFO 27478 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T10:07:47.267+07:00  INFO 27478 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:07:47.269+07:00  WARN 27478 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:07:47.269+07:00  WARN 27478 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:07:47.273+07:00  INFO 27478 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:07:47.274+07:00  INFO 27478 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-20T10:07:47.277+07:00  INFO 27478 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-20T10:07:47.342+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 27478 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:07:47.342+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:07:47.464+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:07:47.494+07:00  INFO 27478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 19 JPA repository interfaces.
2025-07-20T10:07:47.594+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:07:47.594+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:07:47.594+07:00  INFO 27478 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:07:47.603+07:00  INFO 27478 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:07:47.603+07:00  INFO 27478 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 260 ms
2025-07-20T10:07:47.638+07:00  INFO 27478 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:07:47.641+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:07:47.641+07:00  INFO 27478 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:07:47.641+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-20T10:07:47.654+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@631a26c
2025-07-20T10:07:47.654+07:00  INFO 27478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-20T10:07:47.654+07:00  WARN 27478 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:07:47.705+07:00  INFO 27478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:07:47.859+07:00  INFO 27478 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:07:47.860+07:00  INFO 27478 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:07:48.404+07:00  WARN 27478 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:07:48.624+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@77dff044, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6870f3ea, org.springframework.security.web.context.SecurityContextHolderFilter@15bc72ac, org.springframework.security.web.header.HeaderWriterFilter@3c4720d5, org.springframework.web.filter.CorsFilter@6581f935, org.springframework.security.web.authentication.logout.LogoutFilter@44db7d68, com.example.shoppingsystem.config.JwtAuthenticationFilter@f60286, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@397fb839, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cbb764b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7eb3889a, org.springframework.security.web.session.SessionManagementFilter@3037d0ca, org.springframework.security.web.access.ExceptionTranslationFilter@14970f05, org.springframework.security.web.access.intercept.AuthorizationFilter@67cf8ccb]
2025-07-20T10:07:48.631+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@41e8c7d0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f4d2de6, org.springframework.security.web.context.SecurityContextHolderFilter@3ae8a9af, org.springframework.security.web.header.HeaderWriterFilter@25687658, org.springframework.web.filter.CorsFilter@37c86394, org.springframework.security.web.authentication.logout.LogoutFilter@281dea3f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6e38921, org.springframework.security.web.session.ConcurrentSessionFilter@17e6b141, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cd4d21c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75895fe0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2df84ecd, org.springframework.security.web.session.SessionManagementFilter@f64d214, org.springframework.security.web.access.ExceptionTranslationFilter@7aaaf13b, org.springframework.security.web.access.intercept.AuthorizationFilter@6d6aaaf9]
2025-07-20T10:07:48.632+07:00  INFO 27478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@52d68d8d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@bb7ed07, org.springframework.security.web.context.SecurityContextHolderFilter@5629e2ce, org.springframework.security.web.header.HeaderWriterFilter@33870469, org.springframework.web.filter.CorsFilter@52204cd, org.springframework.security.web.authentication.logout.LogoutFilter@1b285212, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@15050aa2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9a1060e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dbc0296, org.springframework.security.web.access.ExceptionTranslationFilter@730df6aa, org.springframework.security.web.access.intercept.AuthorizationFilter@27d5e86f]
2025-07-20T10:07:48.708+07:00  INFO 27478 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:07:48.725+07:00  INFO 27478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:07:48.728+07:00  INFO 27478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.4 seconds (process running for 660.782)
2025-07-20T10:07:48.729+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:07:48.730+07:00  INFO 27478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:07:48.762+07:00  INFO 27478 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:08:08.133+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:08:08.133+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:08:08.135+07:00  INFO 27478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T10:08:39.423+07:00  INFO 27478 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:08:39.424+07:00  INFO 27478 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-20T10:08:39.427+07:00  INFO 27478 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-20T10:08:41.117+07:00  INFO 27741 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 27741 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:08:41.118+07:00  INFO 27741 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:08:41.153+07:00  INFO 27741 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T10:08:41.153+07:00  INFO 27741 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T10:08:41.641+07:00  INFO 27741 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:08:41.710+07:00  INFO 27741 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 65 ms. Found 19 JPA repository interfaces.
2025-07-20T10:08:42.086+07:00  INFO 27741 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:08:42.092+07:00  INFO 27741 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:08:42.092+07:00  INFO 27741 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:08:42.120+07:00  INFO 27741 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:08:42.121+07:00  INFO 27741 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 967 ms
2025-07-20T10:08:42.203+07:00  INFO 27741 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:08:42.230+07:00  INFO 27741 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T10:08:42.232+07:00  INFO 27741 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T10:08:42.303+07:00  INFO 27741 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:08:42.372+07:00  INFO 27741 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:08:42.381+07:00  INFO 27741 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T10:08:42.600+07:00  INFO 27741 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@a8461fd
2025-07-20T10:08:42.601+07:00  INFO 27741 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T10:08:42.628+07:00  WARN 27741 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:08:42.836+07:00  INFO 27741 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:08:43.411+07:00  INFO 27741 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:08:43.413+07:00  INFO 27741 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:08:43.885+07:00  INFO 27741 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T10:08:44.713+07:00  WARN 27741 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:08:45.145+07:00  INFO 27741 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d278df3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24c881a8, org.springframework.security.web.context.SecurityContextHolderFilter@341f1950, org.springframework.security.web.header.HeaderWriterFilter@102c3071, org.springframework.web.filter.CorsFilter@1a97b92, org.springframework.security.web.authentication.logout.LogoutFilter@4ba69e7a, com.example.shoppingsystem.config.JwtAuthenticationFilter@fc80afe, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f76e1e8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@187bebfe, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a2429c8, org.springframework.security.web.session.SessionManagementFilter@29c1b540, org.springframework.security.web.access.ExceptionTranslationFilter@2dff16c5, org.springframework.security.web.access.intercept.AuthorizationFilter@229973ec]
2025-07-20T10:08:45.157+07:00  INFO 27741 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@41df94b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6d9bbd97, org.springframework.security.web.context.SecurityContextHolderFilter@35ebfc36, org.springframework.security.web.header.HeaderWriterFilter@25b34917, org.springframework.web.filter.CorsFilter@423ac7a, org.springframework.security.web.authentication.logout.LogoutFilter@5b5fb8b8, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@22211fcf, org.springframework.security.web.session.ConcurrentSessionFilter@3d63b4a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@158d988d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c86bfb2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ed60456, org.springframework.security.web.session.SessionManagementFilter@424c0099, org.springframework.security.web.access.ExceptionTranslationFilter@35aa713e, org.springframework.security.web.access.intercept.AuthorizationFilter@27f9d513]
2025-07-20T10:08:45.158+07:00  INFO 27741 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@46687169, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@16712547, org.springframework.security.web.context.SecurityContextHolderFilter@600e47a3, org.springframework.security.web.header.HeaderWriterFilter@78a9485f, org.springframework.web.filter.CorsFilter@14395615, org.springframework.security.web.authentication.logout.LogoutFilter@61e635e6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@278f0c29, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@411e14be, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@75dc23c6, org.springframework.security.web.access.ExceptionTranslationFilter@1aef931d, org.springframework.security.web.access.intercept.AuthorizationFilter@fdddb37]
2025-07-20T10:08:45.349+07:00  INFO 27741 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:08:45.382+07:00  INFO 27741 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:08:45.395+07:00  INFO 27741 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.577 seconds (process running for 5.056)
2025-07-20T10:08:45.398+07:00  INFO 27741 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:08:45.453+07:00  INFO 27741 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:08:51.372+07:00  INFO 27741 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:08:51.372+07:00  INFO 27741 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:08:51.373+07:00  INFO 27741 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T10:13:45.401+07:00  INFO 27741 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:13:45.409+07:00  INFO 27741 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:13:59.268+07:00  INFO 27741 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:13:59.272+07:00  INFO 27741 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:13:59.278+07:00  INFO 27741 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:14:01.237+07:00  INFO 28029 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28029 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:14:01.238+07:00  INFO 28029 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:14:01.274+07:00  INFO 28029 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T10:14:01.274+07:00  INFO 28029 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T10:14:01.940+07:00  INFO 28029 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:14:02.013+07:00  INFO 28029 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 19 JPA repository interfaces.
2025-07-20T10:14:02.395+07:00  INFO 28029 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:14:02.401+07:00  INFO 28029 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:14:02.401+07:00  INFO 28029 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:14:02.432+07:00  INFO 28029 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:14:02.432+07:00  INFO 28029 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1157 ms
2025-07-20T10:14:02.517+07:00  INFO 28029 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:14:02.549+07:00  INFO 28029 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T10:14:02.551+07:00  INFO 28029 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T10:14:02.620+07:00  INFO 28029 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:14:02.688+07:00  INFO 28029 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:14:02.698+07:00  INFO 28029 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T10:14:02.927+07:00  INFO 28029 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5fa2ba73
2025-07-20T10:14:02.928+07:00  INFO 28029 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T10:14:02.959+07:00  WARN 28029 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:14:03.151+07:00  INFO 28029 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:14:03.729+07:00  INFO 28029 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:14:03.731+07:00  INFO 28029 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:14:04.046+07:00  WARN 28029 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [1E4726738A3FD1A9062F304E4B6F47A5]
2025-07-20T10:14:04.198+07:00  INFO 28029 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T10:14:05.005+07:00  WARN 28029 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:14:05.438+07:00  INFO 28029 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@82eb732, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3ab2a65b, org.springframework.security.web.context.SecurityContextHolderFilter@4e143715, org.springframework.security.web.header.HeaderWriterFilter@774d1394, org.springframework.web.filter.CorsFilter@12dd7d66, org.springframework.security.web.authentication.logout.LogoutFilter@2b9b1780, com.example.shoppingsystem.config.JwtAuthenticationFilter@17dcbfab, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3e670a28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2b144eaf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@74400e92, org.springframework.security.web.session.SessionManagementFilter@a421d13, org.springframework.security.web.access.ExceptionTranslationFilter@1145a5e8, org.springframework.security.web.access.intercept.AuthorizationFilter@53dc3e42]
2025-07-20T10:14:05.450+07:00  INFO 28029 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@79c95c00, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f0d54ed, org.springframework.security.web.context.SecurityContextHolderFilter@261cbbb7, org.springframework.security.web.header.HeaderWriterFilter@67a5ba3, org.springframework.web.filter.CorsFilter@14df1c6a, org.springframework.security.web.authentication.logout.LogoutFilter@27825703, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@4cc630d4, org.springframework.security.web.session.ConcurrentSessionFilter@2f1b0874, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51b34fa8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3793e8ac, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6962deb5, org.springframework.security.web.session.SessionManagementFilter@747432ac, org.springframework.security.web.access.ExceptionTranslationFilter@1fae5efb, org.springframework.security.web.access.intercept.AuthorizationFilter@42cf24d2]
2025-07-20T10:14:05.451+07:00  INFO 28029 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2e71f2e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@cbd8535, org.springframework.security.web.context.SecurityContextHolderFilter@756f2748, org.springframework.security.web.header.HeaderWriterFilter@764af05e, org.springframework.web.filter.CorsFilter@1421b1f0, org.springframework.security.web.authentication.logout.LogoutFilter@530e2c06, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3f15b84c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ebed24a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21833b69, org.springframework.security.web.access.ExceptionTranslationFilter@69951fe3, org.springframework.security.web.access.intercept.AuthorizationFilter@496f9f12]
2025-07-20T10:14:05.637+07:00  INFO 28029 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:14:05.667+07:00  INFO 28029 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:14:05.678+07:00  INFO 28029 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.647 seconds (process running for 5.18)
2025-07-20T10:14:05.681+07:00  INFO 28029 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:14:05.708+07:00  INFO 28029 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:14:10.138+07:00  INFO 28029 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:14:10.139+07:00  INFO 28029 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:14:10.141+07:00  INFO 28029 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T10:18:10.033+07:00  INFO 28029 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:18:10.038+07:00  INFO 28029 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:18:10.045+07:00  INFO 28029 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:18:11.860+07:00  INFO 28137 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28137 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:18:11.861+07:00  INFO 28137 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:18:11.893+07:00  INFO 28137 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T10:18:11.893+07:00  INFO 28137 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T10:18:12.462+07:00  INFO 28137 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:18:12.534+07:00  INFO 28137 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 19 JPA repository interfaces.
2025-07-20T10:18:12.914+07:00  INFO 28137 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:18:12.920+07:00  INFO 28137 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:18:12.920+07:00  INFO 28137 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:18:12.948+07:00  INFO 28137 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:18:12.949+07:00  INFO 28137 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1055 ms
2025-07-20T10:18:13.033+07:00  INFO 28137 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:18:13.063+07:00  INFO 28137 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T10:18:13.065+07:00  INFO 28137 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T10:18:13.133+07:00  INFO 28137 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:18:13.200+07:00  INFO 28137 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:18:13.210+07:00  INFO 28137 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T10:18:13.428+07:00  INFO 28137 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2fc25790
2025-07-20T10:18:13.430+07:00  INFO 28137 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T10:18:13.457+07:00  WARN 28137 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:18:13.648+07:00  INFO 28137 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:18:14.211+07:00  INFO 28137 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:18:14.213+07:00  INFO 28137 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:18:14.537+07:00  WARN 28137 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [10524C91ED55A2B2ADEECD0788DE6065]
2025-07-20T10:18:14.709+07:00  INFO 28137 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T10:18:15.565+07:00  WARN 28137 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:18:16.037+07:00  INFO 28137 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@36f96fee, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aad44b6, org.springframework.security.web.context.SecurityContextHolderFilter@331443c9, org.springframework.security.web.header.HeaderWriterFilter@1bebc320, org.springframework.web.filter.CorsFilter@3ba6ea8f, org.springframework.security.web.authentication.logout.LogoutFilter@7f699483, com.example.shoppingsystem.config.JwtAuthenticationFilter@3b6e18d8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@38cfd7e5, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@437c5481, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7da678a6, org.springframework.security.web.session.SessionManagementFilter@6b16e788, org.springframework.security.web.access.ExceptionTranslationFilter@2d7bea22, org.springframework.security.web.access.intercept.AuthorizationFilter@4c941582]
2025-07-20T10:18:16.074+07:00  INFO 28137 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@10ded5ba, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b790cb1, org.springframework.security.web.context.SecurityContextHolderFilter@40160b84, org.springframework.security.web.header.HeaderWriterFilter@1d1abd6c, org.springframework.web.filter.CorsFilter@3c80be3c, org.springframework.security.web.authentication.logout.LogoutFilter@20fbb457, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d7a8d4e, org.springframework.security.web.session.ConcurrentSessionFilter@73a06bc7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3098be12, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fcf764, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@529541f, org.springframework.security.web.session.SessionManagementFilter@3d82388a, org.springframework.security.web.access.ExceptionTranslationFilter@1f5f9a5a, org.springframework.security.web.access.intercept.AuthorizationFilter@3fe71339]
2025-07-20T10:18:16.082+07:00  INFO 28137 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4ebeabf4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3691c88a, org.springframework.security.web.context.SecurityContextHolderFilter@273f2f84, org.springframework.security.web.header.HeaderWriterFilter@7dbba8a6, org.springframework.web.filter.CorsFilter@6dd646d7, org.springframework.security.web.authentication.logout.LogoutFilter@4bf8d04, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c66a717, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a7ca3aa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d8b03a5, org.springframework.security.web.access.ExceptionTranslationFilter@6b27ad7c, org.springframework.security.web.access.intercept.AuthorizationFilter@2065d7d]
2025-07-20T10:18:16.398+07:00  INFO 28137 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:18:16.428+07:00  INFO 28137 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:18:16.439+07:00  INFO 28137 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.803 seconds (process running for 5.273)
2025-07-20T10:18:16.442+07:00  INFO 28137 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:18:16.483+07:00  INFO 28137 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:18:20.308+07:00  INFO 28137 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:18:20.309+07:00  INFO 28137 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:18:20.310+07:00  INFO 28137 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T10:22:29.855+07:00  INFO 28137 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:22:29.861+07:00  INFO 28137 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:22:29.868+07:00  INFO 28137 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:22:31.643+07:00  INFO 28310 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28310 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:22:31.645+07:00  INFO 28310 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:22:31.688+07:00  INFO 28310 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T10:22:31.688+07:00  INFO 28310 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T10:22:32.560+07:00  INFO 28310 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:22:32.633+07:00  INFO 28310 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 68 ms. Found 19 JPA repository interfaces.
2025-07-20T10:22:33.321+07:00  INFO 28310 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:22:33.336+07:00  INFO 28310 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:22:33.336+07:00  INFO 28310 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:22:33.369+07:00  INFO 28310 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:22:33.370+07:00  INFO 28310 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1682 ms
2025-07-20T10:22:33.477+07:00  INFO 28310 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:22:33.508+07:00  INFO 28310 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T10:22:33.510+07:00  INFO 28310 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T10:22:33.606+07:00  INFO 28310 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:22:33.725+07:00  INFO 28310 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:22:33.745+07:00  INFO 28310 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T10:22:34.124+07:00  INFO 28310 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@75cbdcd2
2025-07-20T10:22:34.125+07:00  INFO 28310 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T10:22:34.150+07:00  WARN 28310 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:22:34.341+07:00  INFO 28310 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:22:34.909+07:00  INFO 28310 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:22:34.910+07:00  INFO 28310 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:22:35.383+07:00  INFO 28310 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T10:22:36.208+07:00  WARN 28310 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:22:36.666+07:00  INFO 28310 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7f642c71, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54cd3f37, org.springframework.security.web.context.SecurityContextHolderFilter@25890da5, org.springframework.security.web.header.HeaderWriterFilter@341f1950, org.springframework.web.filter.CorsFilter@76a2e9b6, org.springframework.security.web.authentication.logout.LogoutFilter@6d47219, com.example.shoppingsystem.config.JwtAuthenticationFilter@7d98b1e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7ba4efec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ea1d9f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a782e09, org.springframework.security.web.session.SessionManagementFilter@6f8e3dc5, org.springframework.security.web.access.ExceptionTranslationFilter@4a3635f, org.springframework.security.web.access.intercept.AuthorizationFilter@32733e34]
2025-07-20T10:22:36.679+07:00  INFO 28310 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1aef931d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@78a9485f, org.springframework.security.web.context.SecurityContextHolderFilter@6d9bbd97, org.springframework.security.web.header.HeaderWriterFilter@4c86bfb2, org.springframework.web.filter.CorsFilter@600e47a3, org.springframework.security.web.authentication.logout.LogoutFilter@64597ae4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@35ce411a, org.springframework.security.web.session.ConcurrentSessionFilter@27f9d513, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@423ac7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ed60456, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@278f0c29, org.springframework.security.web.session.SessionManagementFilter@4b963eee, org.springframework.security.web.access.ExceptionTranslationFilter@158d988d, org.springframework.security.web.access.intercept.AuthorizationFilter@34459f46]
2025-07-20T10:22:36.680+07:00  INFO 28310 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@64de5bcf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59a75b11, org.springframework.security.web.context.SecurityContextHolderFilter@6ffeaf60, org.springframework.security.web.header.HeaderWriterFilter@70baf72d, org.springframework.web.filter.CorsFilter@7017ad45, org.springframework.security.web.authentication.logout.LogoutFilter@18c4b01d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3129c574, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@257f0284, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@36d41f3b, org.springframework.security.web.access.ExceptionTranslationFilter@75dc23c6, org.springframework.security.web.access.intercept.AuthorizationFilter@3a8f8155]
2025-07-20T10:22:36.870+07:00  INFO 28310 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:22:36.900+07:00  INFO 28310 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:22:36.910+07:00  INFO 28310 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 5.571 seconds (process running for 6.045)
2025-07-20T10:22:36.913+07:00  INFO 28310 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:22:36.938+07:00  INFO 28310 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:22:37.569+07:00  INFO 28310 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:22:37.569+07:00  INFO 28310 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:22:37.571+07:00  INFO 28310 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T10:24:59.366+07:00  INFO 28310 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:24:59.371+07:00  INFO 28310 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:24:59.383+07:00  INFO 28310 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:25:00.830+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:25:00.832+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:25:00.888+07:00  INFO 28522 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T10:25:00.889+07:00  INFO 28522 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T10:25:01.358+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:25:01.426+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 64 ms. Found 19 JPA repository interfaces.
2025-07-20T10:25:01.793+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:25:01.798+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:25:01.799+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:25:01.828+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:25:01.828+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 939 ms
2025-07-20T10:25:01.909+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:25:01.938+07:00  INFO 28522 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T10:25:01.942+07:00  INFO 28522 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T10:25:02.010+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:25:02.078+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:25:02.088+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T10:25:02.303+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4689788
2025-07-20T10:25:02.305+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T10:25:02.331+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:25:02.515+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:25:03.099+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:25:03.101+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:25:03.418+07:00  WARN 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [577CDFC9F28E2049994F3B990C61BBE3]
2025-07-20T10:25:03.588+07:00  INFO 28522 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T10:25:04.430+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:25:04.868+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@17445b64, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@192a4a58, org.springframework.security.web.context.SecurityContextHolderFilter@47d3d0d2, org.springframework.security.web.header.HeaderWriterFilter@5bdef40f, org.springframework.web.filter.CorsFilter@76de383e, org.springframework.security.web.authentication.logout.LogoutFilter@1ade1e3c, com.example.shoppingsystem.config.JwtAuthenticationFilter@78de126, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24cb819e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@fedcbaa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@740dae3e, org.springframework.security.web.session.SessionManagementFilter@55475147, org.springframework.security.web.access.ExceptionTranslationFilter@1f20c5b0, org.springframework.security.web.access.intercept.AuthorizationFilter@44395b37]
2025-07-20T10:25:04.881+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@57e49597, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@256eca87, org.springframework.security.web.context.SecurityContextHolderFilter@62a3abef, org.springframework.security.web.header.HeaderWriterFilter@72a9b02f, org.springframework.web.filter.CorsFilter@65f66261, org.springframework.security.web.authentication.logout.LogoutFilter@418ce92a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7187f734, org.springframework.security.web.session.ConcurrentSessionFilter@41bd1a81, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4be3dc28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@74cb5c4d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2b0617bc, org.springframework.security.web.session.SessionManagementFilter@54ebef55, org.springframework.security.web.access.ExceptionTranslationFilter@47e6d7c1, org.springframework.security.web.access.intercept.AuthorizationFilter@283d0cbf]
2025-07-20T10:25:04.883+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@20169fbb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d273abe, org.springframework.security.web.context.SecurityContextHolderFilter@43c29186, org.springframework.security.web.header.HeaderWriterFilter@3b780b71, org.springframework.web.filter.CorsFilter@787ceb94, org.springframework.security.web.authentication.logout.LogoutFilter@6757d2a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@706d0ba7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a342d84, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cd70391, org.springframework.security.web.access.ExceptionTranslationFilter@221f1395, org.springframework.security.web.access.intercept.AuthorizationFilter@150e3822]
2025-07-20T10:25:05.077+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:25:05.110+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:25:05.122+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.673 seconds (process running for 5.074)
2025-07-20T10:25:05.125+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:25:05.154+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:28:00.064+07:00  INFO 28522 --- [http-nio-8080-exec-2] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:28:00.064+07:00  INFO 28522 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:28:00.067+07:00  INFO 28522 --- [http-nio-8080-exec-2] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T10:30:05.131+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:30:05.144+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:35:05.128+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:35:05.137+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:40:05.132+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:40:05.141+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:45:05.122+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:45:05.131+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:50:05.128+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:50:05.144+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:55:05.113+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:55:05.116+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:57:29.570+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T10:57:29.580+07:00  INFO 28522 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:57:29.582+07:00  INFO 28522 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T10:57:29.591+07:00  WARN 28522 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [81040E53E138BF593DA6E1BA306A6D69]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T10:57:29.599+07:00  WARN 28522 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:57:29.614+07:00  INFO 28522 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:57:29.618+07:00  INFO 28522 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T10:57:29.623+07:00  INFO 28522 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T10:57:29.722+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:57:29.722+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:57:29.994+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:57:30.050+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 55 ms. Found 19 JPA repository interfaces.
2025-07-20T10:57:30.241+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:57:30.242+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:57:30.244+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:57:30.260+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:57:30.260+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 536 ms
2025-07-20T10:57:30.307+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:57:30.313+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:57:30.314+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:57:30.315+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-20T10:57:30.332+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@c063acc
2025-07-20T10:57:30.333+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-20T10:57:30.333+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:57:30.448+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:57:30.677+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:57:30.678+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:57:30.829+07:00  WARN 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [81040E53E138BF593DA6E1BA306A6D69]
2025-07-20T10:57:31.354+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:57:31.659+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@66052142, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@60c5480a, org.springframework.security.web.context.SecurityContextHolderFilter@7c9f2fc7, org.springframework.security.web.header.HeaderWriterFilter@23da6a63, org.springframework.web.filter.CorsFilter@5d1f01b4, org.springframework.security.web.authentication.logout.LogoutFilter@7d9f6b3b, com.example.shoppingsystem.config.JwtAuthenticationFilter@16aa0961, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c82064a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c7be4cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7445e655, org.springframework.security.web.session.SessionManagementFilter@288d95, org.springframework.security.web.access.ExceptionTranslationFilter@39b12395, org.springframework.security.web.access.intercept.AuthorizationFilter@42cd77dd]
2025-07-20T10:57:31.671+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@45036d79, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b64bcde, org.springframework.security.web.context.SecurityContextHolderFilter@13da886, org.springframework.security.web.header.HeaderWriterFilter@43e83c45, org.springframework.web.filter.CorsFilter@e7808d4, org.springframework.security.web.authentication.logout.LogoutFilter@4da59575, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24ec4aac, org.springframework.security.web.session.ConcurrentSessionFilter@5bcdb64, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@335a6f0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@42b4e494, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@48078a9d, org.springframework.security.web.session.SessionManagementFilter@61541290, org.springframework.security.web.access.ExceptionTranslationFilter@7707eb3, org.springframework.security.web.access.intercept.AuthorizationFilter@67c60b6]
2025-07-20T10:57:31.672+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6549b43b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fdab335, org.springframework.security.web.context.SecurityContextHolderFilter@6c619ac2, org.springframework.security.web.header.HeaderWriterFilter@793fcb97, org.springframework.web.filter.CorsFilter@64226737, org.springframework.security.web.authentication.logout.LogoutFilter@91a7a75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@173b813e, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6ea95735, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cd1670b, org.springframework.security.web.access.ExceptionTranslationFilter@505537c3, org.springframework.security.web.access.intercept.AuthorizationFilter@66d7df9f]
2025-07-20T10:57:31.783+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:57:31.799+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:57:31.804+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 2.101 seconds (process running for 1951.766)
2025-07-20T10:57:31.805+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:57:31.807+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:57:31.841+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:57:33.526+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:57:33.526+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:57:33.528+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T10:57:35.238+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T10:57:35.241+07:00  INFO 28522 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:57:35.241+07:00  INFO 28522 --- [Thread-7] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T10:57:35.242+07:00  WARN 28522 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:57:35.243+07:00  WARN 28522 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:57:35.246+07:00  INFO 28522 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:57:35.247+07:00  INFO 28522 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-20T10:57:35.249+07:00  INFO 28522 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-20T10:57:35.316+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:57:35.316+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:57:35.472+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:57:35.502+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 19 JPA repository interfaces.
2025-07-20T10:57:35.605+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:57:35.605+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:57:35.605+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:57:35.613+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:57:35.613+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 296 ms
2025-07-20T10:57:35.648+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:57:35.651+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:57:35.651+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:57:35.652+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-20T10:57:35.662+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@46b4dbe0
2025-07-20T10:57:35.662+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-20T10:57:35.662+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:57:35.757+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:57:35.914+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:57:35.914+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:57:36.500+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:57:36.720+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@346db98f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fb4ca5b, org.springframework.security.web.context.SecurityContextHolderFilter@42de5cf7, org.springframework.security.web.header.HeaderWriterFilter@2cc29fb6, org.springframework.web.filter.CorsFilter@37d0e8f9, org.springframework.security.web.authentication.logout.LogoutFilter@5179476e, com.example.shoppingsystem.config.JwtAuthenticationFilter@4cbad4bb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30cb8751, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@8cc91d1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3167f8df, org.springframework.security.web.session.SessionManagementFilter@15cf8348, org.springframework.security.web.access.ExceptionTranslationFilter@5d85fc49, org.springframework.security.web.access.intercept.AuthorizationFilter@51caef6b]
2025-07-20T10:57:36.727+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5ae8f3de, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@527e3a9e, org.springframework.security.web.context.SecurityContextHolderFilter@23e9cb05, org.springframework.security.web.header.HeaderWriterFilter@1b9c8f5a, org.springframework.web.filter.CorsFilter@4cb610b, org.springframework.security.web.authentication.logout.LogoutFilter@31a08f96, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6f010d97, org.springframework.security.web.session.ConcurrentSessionFilter@3e5d6c5b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5cf0667d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9965c32, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6341a9b0, org.springframework.security.web.session.SessionManagementFilter@5d611a53, org.springframework.security.web.access.ExceptionTranslationFilter@3665798c, org.springframework.security.web.access.intercept.AuthorizationFilter@55f06278]
2025-07-20T10:57:36.728+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@41e6c17c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@18c2f22b, org.springframework.security.web.context.SecurityContextHolderFilter@6496786, org.springframework.security.web.header.HeaderWriterFilter@45966ec7, org.springframework.web.filter.CorsFilter@1c047736, org.springframework.security.web.authentication.logout.LogoutFilter@1c88aead, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@620f873a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27a6242f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@12d9e7, org.springframework.security.web.access.ExceptionTranslationFilter@4230eb87, org.springframework.security.web.access.intercept.AuthorizationFilter@14b10766]
2025-07-20T10:57:36.823+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:57:36.836+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:57:36.840+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.537 seconds (process running for 1956.801)
2025-07-20T10:57:36.841+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:57:36.842+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:57:36.870+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:58:07.362+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T10:58:07.364+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T10:58:07.373+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-07-20T10:59:07.656+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-07-20T10:59:07.662+07:00  INFO 28522 --- [Thread-11] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:59:07.663+07:00  INFO 28522 --- [Thread-11] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T10:59:07.667+07:00  WARN 28522 --- [Thread-11] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-3 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:59:07.671+07:00  INFO 28522 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:07.673+07:00  INFO 28522 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-20T10:59:07.676+07:00  INFO 28522 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-20T10:59:07.763+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:59:07.763+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:59:07.930+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:59:07.961+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 19 JPA repository interfaces.
2025-07-20T10:59:08.066+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:59:08.066+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:59:08.066+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:59:08.075+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T10:59:08.075+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 311 ms
2025-07-20T10:59:08.112+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:59:08.116+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:08.116+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:59:08.116+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-20T10:59:08.128+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@28e6fc38
2025-07-20T10:59:08.128+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-20T10:59:08.129+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:59:08.179+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:08.359+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:59:08.359+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:08.785+07:00  WARN 28522 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController' defined in file [/Users/huunhan/Desktop/app-server/target/classes/com/example/shoppingsystem/api/AuthenticationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authenticationServiceImpl': Resolution of declared constructors on bean Class [com.example.shoppingsystem.auth.AuthenticationServiceImpl] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@29a85271] failed
2025-07-20T10:59:08.785+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:08.785+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-20T10:59:08.787+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-20T10:59:08.788+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:59:08.793+07:00  INFO 28522 --- [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-20T10:59:08.803+07:00 ERROR 28522 --- [restartedMain] o.s.boot.SpringApplication               : Application run failed

org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'authenticationController' defined in file [/Users/huunhan/Desktop/app-server/target/classes/com/example/shoppingsystem/api/AuthenticationController.class]: Unsatisfied dependency expressed through constructor parameter 0: Error creating bean with name 'authenticationServiceImpl': Resolution of declared constructors on bean Class [com.example.shoppingsystem.auth.AuthenticationServiceImpl] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@29a85271] failed
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:801) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.ConstructorResolver.autowireConstructor(ConstructorResolver.java:240) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.autowireConstructor(AbstractAutowireCapableBeanFactory.java:1352) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1189) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.preInstantiateSingletons(DefaultListableBeanFactory.java:973) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.finishBeanFactoryInitialization(AbstractApplicationContext.java:942) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:608) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.refresh(ServletWebServerApplicationContext.java:146) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.SpringApplication.refresh(SpringApplication.java:737) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.SpringApplication.refreshContext(SpringApplication.java:439) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:315) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1309) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.SpringApplication.run(SpringApplication.java:1298) ~[spring-boot-3.1.4.jar:3.1.4]
	at com.example.shoppingsystem.ShoppingSystemApplication.main(ShoppingSystemApplication.java:20) ~[classes/:na]
	at java.base/jdk.internal.reflect.DirectMethodHandleAccessor.invoke(DirectMethodHandleAccessor.java:103) ~[na:na]
	at java.base/java.lang.reflect.Method.invoke(Method.java:580) ~[na:na]
	at org.springframework.boot.devtools.restart.RestartLauncher.run(RestartLauncher.java:50) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
Caused by: org.springframework.beans.factory.BeanCreationException: Error creating bean with name 'authenticationServiceImpl': Resolution of declared constructors on bean Class [com.example.shoppingsystem.auth.AuthenticationServiceImpl] from ClassLoader [org.springframework.boot.devtools.restart.classloader.RestartClassLoader@29a85271] failed
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:367) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.determineConstructorsFromBeanPostProcessors(AbstractAutowireCapableBeanFactory.java:1291) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBeanInstance(AbstractAutowireCapableBeanFactory.java:1186) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.doCreateBean(AbstractAutowireCapableBeanFactory.java:560) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractAutowireCapableBeanFactory.createBean(AbstractAutowireCapableBeanFactory.java:520) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.lambda$doGetBean$0(AbstractBeanFactory.java:325) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.DefaultSingletonBeanRegistry.getSingleton(DefaultSingletonBeanRegistry.java:234) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.doGetBean(AbstractBeanFactory.java:323) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.AbstractBeanFactory.getBean(AbstractBeanFactory.java:199) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.config.DependencyDescriptor.resolveCandidate(DependencyDescriptor.java:254) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.doResolveDependency(DefaultListableBeanFactory.java:1417) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.DefaultListableBeanFactory.resolveDependency(DefaultListableBeanFactory.java:1337) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.ConstructorResolver.resolveAutowiredArgument(ConstructorResolver.java:910) ~[spring-beans-6.0.12.jar:6.0.12]
	at org.springframework.beans.factory.support.ConstructorResolver.createArgumentArray(ConstructorResolver.java:788) ~[spring-beans-6.0.12.jar:6.0.12]
	... 22 common frames omitted
Caused by: java.lang.NoClassDefFoundError: com/example/shoppingsystem/auth/interfaces/EmailService
	at java.base/java.lang.Class.getDeclaredConstructors0(Native Method) ~[na:na]
	at java.base/java.lang.Class.privateGetDeclaredConstructors(Class.java:3621) ~[na:na]
	at java.base/java.lang.Class.getDeclaredConstructors(Class.java:2786) ~[na:na]
	at org.springframework.beans.factory.annotation.AutowiredAnnotationBeanPostProcessor.determineCandidateConstructors(AutowiredAnnotationBeanPostProcessor.java:362) ~[spring-beans-6.0.12.jar:6.0.12]
	... 35 common frames omitted
Caused by: java.lang.ClassNotFoundException: com.example.shoppingsystem.auth.interfaces.EmailService
	at java.base/jdk.internal.loader.BuiltinClassLoader.loadClass(BuiltinClassLoader.java:641) ~[na:na]
	at java.base/jdk.internal.loader.ClassLoaders$AppClassLoader.loadClass(ClassLoaders.java:188) ~[na:na]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:528) ~[na:na]
	at java.base/java.lang.Class.forName0(Native Method) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:578) ~[na:na]
	at java.base/java.lang.Class.forName(Class.java:557) ~[na:na]
	at org.springframework.boot.devtools.restart.classloader.RestartClassLoader.loadClass(RestartClassLoader.java:121) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at java.base/java.lang.ClassLoader.loadClass(ClassLoader.java:528) ~[na:na]
	... 39 common frames omitted

2025-07-20T10:59:27.491+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:59:27.491+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:59:27.638+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:59:27.664+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 19 JPA repository interfaces.
2025-07-20T10:59:27.756+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:59:27.758+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:59:27.758+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:59:27.765+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T10:59:27.765+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 273 ms
2025-07-20T10:59:27.796+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:59:27.799+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:27.799+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:59:27.800+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-20T10:59:27.809+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7714f387
2025-07-20T10:59:27.810+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-20T10:59:27.810+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:59:27.852+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:28.005+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:59:28.005+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:28.554+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:59:28.787+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@615d9883, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12a7304, org.springframework.security.web.context.SecurityContextHolderFilter@75f4c1b5, org.springframework.security.web.header.HeaderWriterFilter@7e76e82, org.springframework.web.filter.CorsFilter@28c38ab, org.springframework.security.web.authentication.logout.LogoutFilter@2c0c609c, com.example.shoppingsystem.config.JwtAuthenticationFilter@5a5ae3c7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4af22618, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@76ddd2ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3fa185ed, org.springframework.security.web.session.SessionManagementFilter@7a7e6184, org.springframework.security.web.access.ExceptionTranslationFilter@65fb4843, org.springframework.security.web.access.intercept.AuthorizationFilter@7279fd3a]
2025-07-20T10:59:28.793+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3fd79d94, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5ea0db13, org.springframework.security.web.context.SecurityContextHolderFilter@12803d1d, org.springframework.security.web.header.HeaderWriterFilter@50929335, org.springframework.web.filter.CorsFilter@6b0a394d, org.springframework.security.web.authentication.logout.LogoutFilter@37b4b398, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2d6dd3d2, org.springframework.security.web.session.ConcurrentSessionFilter@6d13b572, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@564f1f43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@54078d0e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@283a84bd, org.springframework.security.web.session.SessionManagementFilter@41586256, org.springframework.security.web.access.ExceptionTranslationFilter@5125c924, org.springframework.security.web.access.intercept.AuthorizationFilter@712896fc]
2025-07-20T10:59:28.794+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@53663bc2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc047b2, org.springframework.security.web.context.SecurityContextHolderFilter@6aece7c4, org.springframework.security.web.header.HeaderWriterFilter@33f1092, org.springframework.web.filter.CorsFilter@43dceb36, org.springframework.security.web.authentication.logout.LogoutFilter@1e080e02, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@64da6129, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@68973f7b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@303580c6, org.springframework.security.web.access.ExceptionTranslationFilter@725fc3da, org.springframework.security.web.access.intercept.AuthorizationFilter@78d16972]
2025-07-20T10:59:28.868+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:59:28.881+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:59:28.884+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.404 seconds (process running for 2068.846)
2025-07-20T10:59:28.886+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:59:28.887+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:59:28.926+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:59:37.380+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T10:59:37.386+07:00  INFO 28522 --- [Thread-15] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:59:37.390+07:00  WARN 28522 --- [Thread-15] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-5 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:59:37.394+07:00  INFO 28522 --- [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:37.396+07:00  INFO 28522 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-20T10:59:37.399+07:00  INFO 28522 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-20T10:59:37.463+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:59:37.464+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:59:37.596+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:59:37.628+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 19 JPA repository interfaces.
2025-07-20T10:59:37.726+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:59:37.726+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:59:37.726+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:59:37.735+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T10:59:37.735+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 271 ms
2025-07-20T10:59:37.768+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:59:37.771+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:37.771+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:59:37.771+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-20T10:59:37.786+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@1f608152
2025-07-20T10:59:37.786+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-20T10:59:37.786+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T10:59:37.836+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:37.989+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T10:59:37.990+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:38.523+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T10:59:38.764+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@59218171, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@74a030d1, org.springframework.security.web.context.SecurityContextHolderFilter@32ba05d8, org.springframework.security.web.header.HeaderWriterFilter@30858aff, org.springframework.web.filter.CorsFilter@2475fdb1, org.springframework.security.web.authentication.logout.LogoutFilter@4d1c0612, com.example.shoppingsystem.config.JwtAuthenticationFilter@71e6b3a5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ea03269, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@26e8130, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9af0ce8, org.springframework.security.web.session.SessionManagementFilter@7b3ac265, org.springframework.security.web.access.ExceptionTranslationFilter@60c99ff1, org.springframework.security.web.access.intercept.AuthorizationFilter@24213ac5]
2025-07-20T10:59:38.771+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@772a4f31, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@37aaa115, org.springframework.security.web.context.SecurityContextHolderFilter@3196188e, org.springframework.security.web.header.HeaderWriterFilter@19458f81, org.springframework.web.filter.CorsFilter@6f5a32c, org.springframework.security.web.authentication.logout.LogoutFilter@c4d5632, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11b077f3, org.springframework.security.web.session.ConcurrentSessionFilter@7ffa5b6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41ab0ba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@20925304, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@146853ee, org.springframework.security.web.session.SessionManagementFilter@3ed35ff2, org.springframework.security.web.access.ExceptionTranslationFilter@649546f5, org.springframework.security.web.access.intercept.AuthorizationFilter@6f3bcab6]
2025-07-20T10:59:38.772+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@79358e6e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ec53c4c, org.springframework.security.web.context.SecurityContextHolderFilter@36befdda, org.springframework.security.web.header.HeaderWriterFilter@68e608f1, org.springframework.web.filter.CorsFilter@5aaa71cf, org.springframework.security.web.authentication.logout.LogoutFilter@4c736a9e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ef154bc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@559b2d17, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59916a38, org.springframework.security.web.access.ExceptionTranslationFilter@167dbd88, org.springframework.security.web.access.intercept.AuthorizationFilter@647ce89a]
2025-07-20T10:59:38.850+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T10:59:38.864+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T10:59:38.867+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.415 seconds (process running for 2078.829)
2025-07-20T10:59:38.868+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T10:59:38.869+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T10:59:38.899+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T10:59:59.572+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T10:59:59.575+07:00  INFO 28522 --- [Thread-22] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T10:59:59.577+07:00  WARN 28522 --- [Thread-22] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-6 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T10:59:59.580+07:00  INFO 28522 --- [Thread-22] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T10:59:59.581+07:00  INFO 28522 --- [Thread-22] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-20T10:59:59.583+07:00  INFO 28522 --- [Thread-22] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-20T10:59:59.641+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T10:59:59.641+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T10:59:59.787+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T10:59:59.815+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 19 JPA repository interfaces.
2025-07-20T10:59:59.908+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T10:59:59.909+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T10:59:59.909+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T10:59:59.918+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T10:59:59.918+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 276 ms
2025-07-20T10:59:59.952+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T10:59:59.955+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T10:59:59.955+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T10:59:59.955+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-20T10:59:59.966+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ff140a4
2025-07-20T10:59:59.967+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-20T10:59:59.967+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:00:00.012+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:00.159+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:00:00.159+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:00.697+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:00:00.925+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3df7e3db, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@24c05e00, org.springframework.security.web.context.SecurityContextHolderFilter@4114b9b9, org.springframework.security.web.header.HeaderWriterFilter@120bc821, org.springframework.web.filter.CorsFilter@7a5f7ce8, org.springframework.security.web.authentication.logout.LogoutFilter@55498ce1, com.example.shoppingsystem.config.JwtAuthenticationFilter@6a5597ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@633440b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2f32d630, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4b2a9fed, org.springframework.security.web.session.SessionManagementFilter@5937978, org.springframework.security.web.access.ExceptionTranslationFilter@46dc9bcf, org.springframework.security.web.access.intercept.AuthorizationFilter@2d8398e6]
2025-07-20T11:00:00.931+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@312ee3f2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22e1fcf, org.springframework.security.web.context.SecurityContextHolderFilter@1036fa77, org.springframework.security.web.header.HeaderWriterFilter@20ec0f7f, org.springframework.web.filter.CorsFilter@2847a43b, org.springframework.security.web.authentication.logout.LogoutFilter@547b7d0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@9ef2c28, org.springframework.security.web.session.ConcurrentSessionFilter@18fdf5cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@506198f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@55a1f077, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58b95377, org.springframework.security.web.session.SessionManagementFilter@41b89fb5, org.springframework.security.web.access.ExceptionTranslationFilter@4db8af6c, org.springframework.security.web.access.intercept.AuthorizationFilter@34530c9]
2025-07-20T11:00:00.932+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@74decfa6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@97ed1d9, org.springframework.security.web.context.SecurityContextHolderFilter@53bc5c6d, org.springframework.security.web.header.HeaderWriterFilter@1879d3bc, org.springframework.web.filter.CorsFilter@4f92262b, org.springframework.security.web.authentication.logout.LogoutFilter@79f095b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@898a57b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e2c23b9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@df3593, org.springframework.security.web.access.ExceptionTranslationFilter@5a899564, org.springframework.security.web.access.intercept.AuthorizationFilter@4b408852]
2025-07-20T11:00:01.006+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:00:01.019+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:00:01.022+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.392 seconds (process running for 2100.984)
2025-07-20T11:00:01.023+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:00:01.024+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:00:01.056+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:00:02.436+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:00:02.439+07:00  INFO 28522 --- [Thread-26] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:00:02.440+07:00  WARN 28522 --- [Thread-26] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-7 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:02.440+07:00  WARN 28522 --- [Thread-26] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-7 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:02.443+07:00  INFO 28522 --- [Thread-26] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:02.443+07:00  INFO 28522 --- [Thread-26] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-07-20T11:00:02.445+07:00  INFO 28522 --- [Thread-26] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-07-20T11:00:02.500+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:00:02.500+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:00:02.611+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:00:02.637+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 19 JPA repository interfaces.
2025-07-20T11:00:02.732+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:00:02.732+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:00:02.732+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:00:02.741+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:00:02.741+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 240 ms
2025-07-20T11:00:02.775+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:00:02.778+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:02.778+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:00:02.778+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-07-20T11:00:02.791+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@763695f9
2025-07-20T11:00:02.791+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-07-20T11:00:02.791+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:00:02.837+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:02.984+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:00:02.984+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:03.518+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:00:03.723+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@29686921, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52a6e507, org.springframework.security.web.context.SecurityContextHolderFilter@2353cfa1, org.springframework.security.web.header.HeaderWriterFilter@76384ffd, org.springframework.web.filter.CorsFilter@191fb8b6, org.springframework.security.web.authentication.logout.LogoutFilter@5b141427, com.example.shoppingsystem.config.JwtAuthenticationFilter@2d702375, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@74a4b732, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40d759fc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d2b4ebe, org.springframework.security.web.session.SessionManagementFilter@3803cea1, org.springframework.security.web.access.ExceptionTranslationFilter@7805e4b5, org.springframework.security.web.access.intercept.AuthorizationFilter@70ba855e]
2025-07-20T11:00:03.730+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@394bb6ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3fd9e561, org.springframework.security.web.context.SecurityContextHolderFilter@130668b0, org.springframework.security.web.header.HeaderWriterFilter@3bab0600, org.springframework.web.filter.CorsFilter@714e53f5, org.springframework.security.web.authentication.logout.LogoutFilter@36d1711d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@42f76cf, org.springframework.security.web.session.ConcurrentSessionFilter@5840ce71, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@70fee7d6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48dfb4af, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ea8ca1d, org.springframework.security.web.session.SessionManagementFilter@7e38c432, org.springframework.security.web.access.ExceptionTranslationFilter@38ce7879, org.springframework.security.web.access.intercept.AuthorizationFilter@4595007]
2025-07-20T11:00:03.731+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@714e79ad, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f83c7d9, org.springframework.security.web.context.SecurityContextHolderFilter@21ad96a6, org.springframework.security.web.header.HeaderWriterFilter@4ebd2ee1, org.springframework.web.filter.CorsFilter@2d48fd0c, org.springframework.security.web.authentication.logout.LogoutFilter@5a5a933e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@41c45814, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@30e2c504, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@38ee6f4e, org.springframework.security.web.access.ExceptionTranslationFilter@5144126a, org.springframework.security.web.access.intercept.AuthorizationFilter@1f514c5f]
2025-07-20T11:00:03.805+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:00:03.818+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:00:03.822+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.332 seconds (process running for 2103.783)
2025-07-20T11:00:03.823+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:00:03.824+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:00:03.854+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:00:07.509+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:00:07.509+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:00:07.511+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T11:00:13.753+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T11:00:13.763+07:00  INFO 28522 --- [Thread-30] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:00:13.763+07:00  INFO 28522 --- [Thread-30] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:00:13.768+07:00  WARN 28522 --- [Thread-30] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-8 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:13.775+07:00  INFO 28522 --- [Thread-30] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:13.776+07:00  INFO 28522 --- [Thread-30] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-07-20T11:00:13.780+07:00  INFO 28522 --- [Thread-30] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-07-20T11:00:13.842+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:00:13.842+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:00:13.984+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:00:14.012+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 19 JPA repository interfaces.
2025-07-20T11:00:14.107+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:00:14.108+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:00:14.108+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:00:14.116+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:00:14.116+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 273 ms
2025-07-20T11:00:14.149+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:00:14.152+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:14.152+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:00:14.152+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-07-20T11:00:14.167+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5b044f81
2025-07-20T11:00:14.168+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-07-20T11:00:14.168+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:00:14.209+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:14.351+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:00:14.351+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:14.860+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:00:15.075+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5c56b5ae, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@151413ce, org.springframework.security.web.context.SecurityContextHolderFilter@1ceebeb5, org.springframework.security.web.header.HeaderWriterFilter@557df124, org.springframework.web.filter.CorsFilter@502a6c06, org.springframework.security.web.authentication.logout.LogoutFilter@273dd6dc, com.example.shoppingsystem.config.JwtAuthenticationFilter@7c272fcf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b9158b7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@115f6830, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@581da106, org.springframework.security.web.session.SessionManagementFilter@56f127ca, org.springframework.security.web.access.ExceptionTranslationFilter@3a21ad22, org.springframework.security.web.access.intercept.AuthorizationFilter@6c3c907d]
2025-07-20T11:00:15.081+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4184d665, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@63c71a81, org.springframework.security.web.context.SecurityContextHolderFilter@6f52470, org.springframework.security.web.header.HeaderWriterFilter@3e0a23f5, org.springframework.web.filter.CorsFilter@5a36afe4, org.springframework.security.web.authentication.logout.LogoutFilter@63c752e3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@180dcfcd, org.springframework.security.web.session.ConcurrentSessionFilter@5c8d520d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@698faad0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a1501c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2c3360c8, org.springframework.security.web.session.SessionManagementFilter@1cb1e71b, org.springframework.security.web.access.ExceptionTranslationFilter@9b4733, org.springframework.security.web.access.intercept.AuthorizationFilter@25c3817c]
2025-07-20T11:00:15.083+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@68ac5096, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@70fa43f3, org.springframework.security.web.context.SecurityContextHolderFilter@43a5892d, org.springframework.security.web.header.HeaderWriterFilter@6376cb6, org.springframework.web.filter.CorsFilter@50152f00, org.springframework.security.web.authentication.logout.LogoutFilter@42cb40b0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43251c94, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1027c4bb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ec4f436, org.springframework.security.web.access.ExceptionTranslationFilter@95b514a, org.springframework.security.web.access.intercept.AuthorizationFilter@7cd2e4a]
2025-07-20T11:00:15.158+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:00:15.171+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:00:15.174+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.343 seconds (process running for 2115.136)
2025-07-20T11:00:15.175+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:00:15.177+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:00:15.206+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:00:32.834+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:00:32.837+07:00  INFO 28522 --- [Thread-34] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:00:32.839+07:00  WARN 28522 --- [Thread-34] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-9 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:32.841+07:00  INFO 28522 --- [Thread-34] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:32.842+07:00  INFO 28522 --- [Thread-34] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-07-20T11:00:32.844+07:00  INFO 28522 --- [Thread-34] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-07-20T11:00:32.909+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:00:32.909+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:00:33.060+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:00:33.087+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 19 JPA repository interfaces.
2025-07-20T11:00:33.182+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:00:33.182+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:00:33.182+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:00:33.191+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:00:33.191+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 281 ms
2025-07-20T11:00:33.223+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:00:33.226+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:33.226+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:00:33.226+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-07-20T11:00:33.237+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@30e6c39
2025-07-20T11:00:33.237+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-07-20T11:00:33.237+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:00:33.279+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:33.419+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:00:33.419+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:33.933+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:00:34.139+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c3baa6d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3cb7245, org.springframework.security.web.context.SecurityContextHolderFilter@5a1cdce5, org.springframework.security.web.header.HeaderWriterFilter@248ded62, org.springframework.web.filter.CorsFilter@5d3f6780, org.springframework.security.web.authentication.logout.LogoutFilter@248d7651, com.example.shoppingsystem.config.JwtAuthenticationFilter@79f1d5d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@375b0576, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7cf60802, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a13cf04, org.springframework.security.web.session.SessionManagementFilter@7d733570, org.springframework.security.web.access.ExceptionTranslationFilter@146f38a8, org.springframework.security.web.access.intercept.AuthorizationFilter@768106b]
2025-07-20T11:00:34.145+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1217c066, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68ec03cf, org.springframework.security.web.context.SecurityContextHolderFilter@5778fc2e, org.springframework.security.web.header.HeaderWriterFilter@5ddde59d, org.springframework.web.filter.CorsFilter@62672cc5, org.springframework.security.web.authentication.logout.LogoutFilter@63906f1a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@721f9980, org.springframework.security.web.session.ConcurrentSessionFilter@679c39e4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@653b0a51, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@754c209f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6c3a6a90, org.springframework.security.web.session.SessionManagementFilter@406a11b8, org.springframework.security.web.access.ExceptionTranslationFilter@593d3d24, org.springframework.security.web.access.intercept.AuthorizationFilter@4a981324]
2025-07-20T11:00:34.146+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ec38512, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@339c0c5f, org.springframework.security.web.context.SecurityContextHolderFilter@40cc35a9, org.springframework.security.web.header.HeaderWriterFilter@45895ce6, org.springframework.web.filter.CorsFilter@39247878, org.springframework.security.web.authentication.logout.LogoutFilter@29f484d9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@51483340, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7d59b6b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@366856bc, org.springframework.security.web.access.ExceptionTranslationFilter@774421fb, org.springframework.security.web.access.intercept.AuthorizationFilter@1213ba0a]
2025-07-20T11:00:34.217+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:00:34.230+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:00:34.233+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.335 seconds (process running for 2134.194)
2025-07-20T11:00:34.233+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:00:34.235+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:00:34.264+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:00:35.659+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:00:35.666+07:00  INFO 28522 --- [Thread-38] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:00:35.670+07:00  WARN 28522 --- [Thread-38] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-10 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:35.670+07:00  WARN 28522 --- [Thread-38] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-10 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:00:35.676+07:00  INFO 28522 --- [Thread-38] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:35.677+07:00  INFO 28522 --- [Thread-38] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-07-20T11:00:35.680+07:00  INFO 28522 --- [Thread-38] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-07-20T11:00:35.757+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:00:35.758+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:00:35.881+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:00:35.909+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 27 ms. Found 19 JPA repository interfaces.
2025-07-20T11:00:36.000+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:00:36.000+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:00:36.000+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:00:36.008+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:00:36.008+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 249 ms
2025-07-20T11:00:36.041+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:00:36.044+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:36.044+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:00:36.044+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-07-20T11:00:36.055+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ec9f041
2025-07-20T11:00:36.055+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-07-20T11:00:36.055+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:00:36.096+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:00:36.232+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:00:36.232+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:00:36.734+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:00:36.941+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@64f63463, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4416984b, org.springframework.security.web.context.SecurityContextHolderFilter@5684b1fc, org.springframework.security.web.header.HeaderWriterFilter@189cb6ca, org.springframework.web.filter.CorsFilter@507c7c2d, org.springframework.security.web.authentication.logout.LogoutFilter@3642c046, com.example.shoppingsystem.config.JwtAuthenticationFilter@6239c0d3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7842f0c8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@59533ec, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5a3aea16, org.springframework.security.web.session.SessionManagementFilter@2d9dae5c, org.springframework.security.web.access.ExceptionTranslationFilter@3a329b47, org.springframework.security.web.access.intercept.AuthorizationFilter@75cfe074]
2025-07-20T11:00:36.948+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@706ba0e8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d6555de, org.springframework.security.web.context.SecurityContextHolderFilter@710ed9bd, org.springframework.security.web.header.HeaderWriterFilter@1440671a, org.springframework.web.filter.CorsFilter@65ef84, org.springframework.security.web.authentication.logout.LogoutFilter@27b824e5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@161231c3, org.springframework.security.web.session.ConcurrentSessionFilter@22aa190, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66610831, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@778ddb36, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@77e5a62, org.springframework.security.web.session.SessionManagementFilter@462afaf9, org.springframework.security.web.access.ExceptionTranslationFilter@3f6997c7, org.springframework.security.web.access.intercept.AuthorizationFilter@50bba6d0]
2025-07-20T11:00:36.950+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@471f6860, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35fc36be, org.springframework.security.web.context.SecurityContextHolderFilter@4cc592e7, org.springframework.security.web.header.HeaderWriterFilter@43289273, org.springframework.web.filter.CorsFilter@6e14148c, org.springframework.security.web.authentication.logout.LogoutFilter@222a076a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@50ee43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@45a45eb9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6487a4ee, org.springframework.security.web.access.ExceptionTranslationFilter@357e19e1, org.springframework.security.web.access.intercept.AuthorizationFilter@42b91414]
2025-07-20T11:00:37.023+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:00:37.035+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:00:37.038+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.292 seconds (process running for 2137.0)
2025-07-20T11:00:37.039+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:00:37.041+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:00:37.069+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:00.782+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:01:00.790+07:00  INFO 28522 --- [Thread-42] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:00.793+07:00  WARN 28522 --- [Thread-42] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-11 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:00.797+07:00  INFO 28522 --- [Thread-42] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:00.798+07:00  INFO 28522 --- [Thread-42] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-07-20T11:01:00.800+07:00  INFO 28522 --- [Thread-42] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-07-20T11:01:00.872+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:00.872+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:01.029+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:01.058+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:01.151+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:01.151+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:01.151+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:01.160+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:01.160+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 287 ms
2025-07-20T11:01:01.194+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:01.197+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:01.197+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:01.197+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-07-20T11:01:01.207+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@76da11b6
2025-07-20T11:01:01.207+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-07-20T11:01:01.207+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:01.249+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:01.384+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:01.384+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:01.896+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:02.101+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@f39abe7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fe45715, org.springframework.security.web.context.SecurityContextHolderFilter@5977ce30, org.springframework.security.web.header.HeaderWriterFilter@43f4957d, org.springframework.web.filter.CorsFilter@212a38da, org.springframework.security.web.authentication.logout.LogoutFilter@449898a5, com.example.shoppingsystem.config.JwtAuthenticationFilter@394c539a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e1bf2f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7923d332, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ff70b6, org.springframework.security.web.session.SessionManagementFilter@50c1483a, org.springframework.security.web.access.ExceptionTranslationFilter@230c84f3, org.springframework.security.web.access.intercept.AuthorizationFilter@62088f76]
2025-07-20T11:01:02.107+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@701b90a7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ad63e30, org.springframework.security.web.context.SecurityContextHolderFilter@13c59911, org.springframework.security.web.header.HeaderWriterFilter@4f98cb01, org.springframework.web.filter.CorsFilter@5ffd2af5, org.springframework.security.web.authentication.logout.LogoutFilter@78f81967, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@48909bf3, org.springframework.security.web.session.ConcurrentSessionFilter@1a39998f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a0c88ab, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@11e91bdd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13fe7dfa, org.springframework.security.web.session.SessionManagementFilter@6edca659, org.springframework.security.web.access.ExceptionTranslationFilter@29041e3f, org.springframework.security.web.access.intercept.AuthorizationFilter@5fa15be4]
2025-07-20T11:01:02.108+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@142f7007, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@54c27307, org.springframework.security.web.context.SecurityContextHolderFilter@32f23b86, org.springframework.security.web.header.HeaderWriterFilter@cc922b8, org.springframework.web.filter.CorsFilter@bd424f, org.springframework.security.web.authentication.logout.LogoutFilter@788f4b9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5968dac2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@611cf7cd, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@73332949, org.springframework.security.web.access.ExceptionTranslationFilter@6d9aaac8, org.springframework.security.web.access.intercept.AuthorizationFilter@1e8dbe17]
2025-07-20T11:01:02.177+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:02.190+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:02.193+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.332 seconds (process running for 2162.155)
2025-07-20T11:01:02.194+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:02.196+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:02.230+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:03.605+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:01:03.608+07:00  INFO 28522 --- [Thread-46] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:03.610+07:00  WARN 28522 --- [Thread-46] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-12 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:03.610+07:00  WARN 28522 --- [Thread-46] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-12 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:03.613+07:00  INFO 28522 --- [Thread-46] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:03.613+07:00  INFO 28522 --- [Thread-46] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-07-20T11:01:03.615+07:00  INFO 28522 --- [Thread-46] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-07-20T11:01:03.667+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:03.667+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:03.774+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:03.801+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:03.896+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:03.897+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:03.897+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:03.906+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:03.906+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 238 ms
2025-07-20T11:01:03.939+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:03.942+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:03.942+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:03.942+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-07-20T11:01:03.956+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5407a0d4
2025-07-20T11:01:03.956+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-07-20T11:01:03.956+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:03.996+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:04.128+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:04.128+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:04.664+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:04.864+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1f19c85c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51d672ce, org.springframework.security.web.context.SecurityContextHolderFilter@400242ec, org.springframework.security.web.header.HeaderWriterFilter@7aa021a0, org.springframework.web.filter.CorsFilter@6c98e239, org.springframework.security.web.authentication.logout.LogoutFilter@750760d9, com.example.shoppingsystem.config.JwtAuthenticationFilter@3c981a1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19e47ce9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6232e354, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f024de5, org.springframework.security.web.session.SessionManagementFilter@20ecbb66, org.springframework.security.web.access.ExceptionTranslationFilter@6277690c, org.springframework.security.web.access.intercept.AuthorizationFilter@3ae32b44]
2025-07-20T11:01:04.871+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2075aa90, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68333ce3, org.springframework.security.web.context.SecurityContextHolderFilter@7fae3fc9, org.springframework.security.web.header.HeaderWriterFilter@40dcb8cb, org.springframework.web.filter.CorsFilter@e72e40d, org.springframework.security.web.authentication.logout.LogoutFilter@50bc3d93, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@11145d84, org.springframework.security.web.session.ConcurrentSessionFilter@548326b1, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a91ca17, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13991b9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d39603a, org.springframework.security.web.session.SessionManagementFilter@155b8343, org.springframework.security.web.access.ExceptionTranslationFilter@44eded6d, org.springframework.security.web.access.intercept.AuthorizationFilter@5f37221a]
2025-07-20T11:01:04.873+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7bcad6ce, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7162d258, org.springframework.security.web.context.SecurityContextHolderFilter@4998aa9c, org.springframework.security.web.header.HeaderWriterFilter@20827f26, org.springframework.web.filter.CorsFilter@4e5faa86, org.springframework.security.web.authentication.logout.LogoutFilter@4ae80956, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cc7f944, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@75e0ad90, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@640f45de, org.springframework.security.web.access.ExceptionTranslationFilter@10433db9, org.springframework.security.web.access.intercept.AuthorizationFilter@79da741f]
2025-07-20T11:01:04.960+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:04.973+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:04.976+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.318 seconds (process running for 2164.938)
2025-07-20T11:01:04.977+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:04.979+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:05.010+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:12.473+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:01:12.477+07:00  INFO 28522 --- [Thread-50] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:12.478+07:00  WARN 28522 --- [Thread-50] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-13 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:12.481+07:00  INFO 28522 --- [Thread-50] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:12.482+07:00  INFO 28522 --- [Thread-50] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-07-20T11:01:12.484+07:00  INFO 28522 --- [Thread-50] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-07-20T11:01:12.547+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:12.547+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:12.675+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:12.702+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 26 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:12.793+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:12.793+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:12.793+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:12.801+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:12.801+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 253 ms
2025-07-20T11:01:12.833+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:12.836+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:12.836+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:12.837+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Starting...
2025-07-20T11:01:12.847+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-14 - Added connection com.mysql.cj.jdbc.ConnectionImpl@2cb1c8ef
2025-07-20T11:01:12.847+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Start completed.
2025-07-20T11:01:12.848+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:12.888+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:13.019+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:13.019+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:13.541+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:13.767+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@70f3a23, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@196b660e, org.springframework.security.web.context.SecurityContextHolderFilter@e3d6dc0, org.springframework.security.web.header.HeaderWriterFilter@abe67e9, org.springframework.web.filter.CorsFilter@3c7e5109, org.springframework.security.web.authentication.logout.LogoutFilter@714de6fa, com.example.shoppingsystem.config.JwtAuthenticationFilter@45ded25b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@177d1b46, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6e85a76f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@313d7cbe, org.springframework.security.web.session.SessionManagementFilter@59646c03, org.springframework.security.web.access.ExceptionTranslationFilter@6f6ed6ef, org.springframework.security.web.access.intercept.AuthorizationFilter@4de804dc]
2025-07-20T11:01:13.774+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3dc566c7, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@57ef8467, org.springframework.security.web.context.SecurityContextHolderFilter@bf25104, org.springframework.security.web.header.HeaderWriterFilter@3ef0a657, org.springframework.web.filter.CorsFilter@5d768ec, org.springframework.security.web.authentication.logout.LogoutFilter@68abae9f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@82ffe0b, org.springframework.security.web.session.ConcurrentSessionFilter@5df0de24, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@300b8c33, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2a12515b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@72ff01fb, org.springframework.security.web.session.SessionManagementFilter@c02d031, org.springframework.security.web.access.ExceptionTranslationFilter@4352b0de, org.springframework.security.web.access.intercept.AuthorizationFilter@3c0dccea]
2025-07-20T11:01:13.775+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@c94e5b1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@332095b, org.springframework.security.web.context.SecurityContextHolderFilter@10b7f669, org.springframework.security.web.header.HeaderWriterFilter@6ede3974, org.springframework.web.filter.CorsFilter@1448a42, org.springframework.security.web.authentication.logout.LogoutFilter@4a88a43c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b70c7b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7aa991e7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31ad1b9d, org.springframework.security.web.access.ExceptionTranslationFilter@6752cf54, org.springframework.security.web.access.intercept.AuthorizationFilter@71d8303f]
2025-07-20T11:01:13.844+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:13.857+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:13.860+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.323 seconds (process running for 2173.821)
2025-07-20T11:01:13.860+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:13.862+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:13.890+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:21.770+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T11:01:21.774+07:00  INFO 28522 --- [Thread-54] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:21.778+07:00  WARN 28522 --- [Thread-54] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-14 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:21.782+07:00  INFO 28522 --- [Thread-54] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:21.783+07:00  INFO 28522 --- [Thread-54] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown initiated...
2025-07-20T11:01:21.786+07:00  INFO 28522 --- [Thread-54] com.zaxxer.hikari.HikariDataSource       : HikariPool-14 - Shutdown completed.
2025-07-20T11:01:21.848+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:21.848+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:21.964+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:21.990+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 25 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:22.081+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:22.082+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:22.082+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:22.090+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:22.090+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 241 ms
2025-07-20T11:01:22.121+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:22.124+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:22.124+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:22.125+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Starting...
2025-07-20T11:01:22.138+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-15 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3f7f9161
2025-07-20T11:01:22.138+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Start completed.
2025-07-20T11:01:22.138+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:22.177+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:22.307+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:22.307+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:22.833+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:23.047+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@493f8919, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9c73dca, org.springframework.security.web.context.SecurityContextHolderFilter@380e554d, org.springframework.security.web.header.HeaderWriterFilter@4f9994e4, org.springframework.web.filter.CorsFilter@7244e3c5, org.springframework.security.web.authentication.logout.LogoutFilter@58530d71, com.example.shoppingsystem.config.JwtAuthenticationFilter@3071f2a0, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1dd3785b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1eeef1b1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@30fca12b, org.springframework.security.web.session.SessionManagementFilter@35c73301, org.springframework.security.web.access.ExceptionTranslationFilter@522efac5, org.springframework.security.web.access.intercept.AuthorizationFilter@37ceb690]
2025-07-20T11:01:23.054+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ff86f05, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b38b98e, org.springframework.security.web.context.SecurityContextHolderFilter@54b0ec17, org.springframework.security.web.header.HeaderWriterFilter@59110019, org.springframework.web.filter.CorsFilter@3823718b, org.springframework.security.web.authentication.logout.LogoutFilter@27464c86, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2acf34a6, org.springframework.security.web.session.ConcurrentSessionFilter@45cfaa21, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f03f50, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c63e342, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6b1a182d, org.springframework.security.web.session.SessionManagementFilter@336f56aa, org.springframework.security.web.access.ExceptionTranslationFilter@6baf483f, org.springframework.security.web.access.intercept.AuthorizationFilter@70e26349]
2025-07-20T11:01:23.055+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@765258bc, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@afffa4e, org.springframework.security.web.context.SecurityContextHolderFilter@12cb55d, org.springframework.security.web.header.HeaderWriterFilter@73197cc8, org.springframework.web.filter.CorsFilter@4c361341, org.springframework.security.web.authentication.logout.LogoutFilter@267b5545, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56700578, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7a5e5ab9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1a55679d, org.springframework.security.web.access.ExceptionTranslationFilter@6c380748, org.springframework.security.web.access.intercept.AuthorizationFilter@78f5d812]
2025-07-20T11:01:23.131+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:23.144+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:23.147+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.309 seconds (process running for 2183.109)
2025-07-20T11:01:23.148+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:23.150+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:23.181+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:25.090+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:01:25.090+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:01:25.091+07:00  INFO 28522 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T11:01:34.719+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:01:34.723+07:00  INFO 28522 --- [Thread-58] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:34.724+07:00  INFO 28522 --- [Thread-58] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:01:34.726+07:00  WARN 28522 --- [Thread-58] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-15 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:34.730+07:00  INFO 28522 --- [Thread-58] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:34.731+07:00  INFO 28522 --- [Thread-58] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown initiated...
2025-07-20T11:01:34.734+07:00  INFO 28522 --- [Thread-58] com.zaxxer.hikari.HikariDataSource       : HikariPool-15 - Shutdown completed.
2025-07-20T11:01:34.801+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:34.801+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:34.951+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:34.980+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:35.073+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:35.074+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:35.074+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:35.082+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:35.082+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 280 ms
2025-07-20T11:01:35.115+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:35.118+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:35.118+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:35.119+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Starting...
2025-07-20T11:01:35.129+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-16 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7be75f49
2025-07-20T11:01:35.129+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Start completed.
2025-07-20T11:01:35.129+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:35.192+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:35.323+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:35.323+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:35.864+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:36.107+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3ce2853e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5aa1ddfc, org.springframework.security.web.context.SecurityContextHolderFilter@7a0e28df, org.springframework.security.web.header.HeaderWriterFilter@54b24b2b, org.springframework.web.filter.CorsFilter@5ef7953e, org.springframework.security.web.authentication.logout.LogoutFilter@64f04ab4, com.example.shoppingsystem.config.JwtAuthenticationFilter@59275830, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f9b589d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2936bd56, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@40a04d85, org.springframework.security.web.session.SessionManagementFilter@5da37c09, org.springframework.security.web.access.ExceptionTranslationFilter@49fb9f7c, org.springframework.security.web.access.intercept.AuthorizationFilter@4d5a726f]
2025-07-20T11:01:36.113+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@7217fa9d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4593cda9, org.springframework.security.web.context.SecurityContextHolderFilter@7d27fa77, org.springframework.security.web.header.HeaderWriterFilter@416d3642, org.springframework.web.filter.CorsFilter@46c2c904, org.springframework.security.web.authentication.logout.LogoutFilter@4504e34f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@10eb7d54, org.springframework.security.web.session.ConcurrentSessionFilter@7351fe59, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@55d00cb7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7beddf9e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d880d55, org.springframework.security.web.session.SessionManagementFilter@26010259, org.springframework.security.web.access.ExceptionTranslationFilter@4069c236, org.springframework.security.web.access.intercept.AuthorizationFilter@560c651]
2025-07-20T11:01:36.114+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2d49eb48, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@697181a1, org.springframework.security.web.context.SecurityContextHolderFilter@ec4ca5c, org.springframework.security.web.header.HeaderWriterFilter@7dd3df86, org.springframework.web.filter.CorsFilter@273f7b7e, org.springframework.security.web.authentication.logout.LogoutFilter@74a61b43, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7da42c45, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f547b25, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7ba9014a, org.springframework.security.web.access.ExceptionTranslationFilter@5a631a3e, org.springframework.security.web.access.intercept.AuthorizationFilter@342d0ce7]
2025-07-20T11:01:36.187+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:36.201+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:36.204+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.414 seconds (process running for 2196.166)
2025-07-20T11:01:36.205+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:36.207+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:36.238+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:01:52.213+07:00  INFO 28522 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T11:01:52.220+07:00  INFO 28522 --- [Thread-62] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:01:52.224+07:00  WARN 28522 --- [Thread-62] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-16 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:01:52.228+07:00  INFO 28522 --- [Thread-62] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:52.230+07:00  INFO 28522 --- [Thread-62] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown initiated...
2025-07-20T11:01:52.235+07:00  INFO 28522 --- [Thread-62] com.zaxxer.hikari.HikariDataSource       : HikariPool-16 - Shutdown completed.
2025-07-20T11:01:52.321+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 28522 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:01:52.321+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:01:52.471+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:01:52.499+07:00  INFO 28522 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 19 JPA repository interfaces.
2025-07-20T11:01:52.602+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:01:52.603+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:01:52.603+07:00  INFO 28522 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:01:52.612+07:00  INFO 28522 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:01:52.613+07:00  INFO 28522 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 291 ms
2025-07-20T11:01:52.649+07:00  INFO 28522 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:01:52.652+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:52.653+07:00  INFO 28522 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:01:52.653+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Starting...
2025-07-20T11:01:52.665+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-17 - Added connection com.mysql.cj.jdbc.ConnectionImpl@51b9565a
2025-07-20T11:01:52.665+07:00  INFO 28522 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Start completed.
2025-07-20T11:01:52.666+07:00  WARN 28522 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:01:52.715+07:00  INFO 28522 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:01:52.871+07:00  INFO 28522 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:01:52.872+07:00  INFO 28522 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:01:53.404+07:00  WARN 28522 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:01:53.644+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@64d08601, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1c5fcf9d, org.springframework.security.web.context.SecurityContextHolderFilter@4a07b0ce, org.springframework.security.web.header.HeaderWriterFilter@42ab3a23, org.springframework.web.filter.CorsFilter@51dfd5f2, org.springframework.security.web.authentication.logout.LogoutFilter@48660224, com.example.shoppingsystem.config.JwtAuthenticationFilter@514780f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@d59d29a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16b89b30, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55ffe4a0, org.springframework.security.web.session.SessionManagementFilter@3fa2c473, org.springframework.security.web.access.ExceptionTranslationFilter@118ad276, org.springframework.security.web.access.intercept.AuthorizationFilter@595bbfe6]
2025-07-20T11:01:53.651+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@a6e8c98, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@618c9921, org.springframework.security.web.context.SecurityContextHolderFilter@3d6ad14b, org.springframework.security.web.header.HeaderWriterFilter@468c0763, org.springframework.web.filter.CorsFilter@16904669, org.springframework.security.web.authentication.logout.LogoutFilter@196977e0, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@586a3602, org.springframework.security.web.session.ConcurrentSessionFilter@3fbb707f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1bfb6e9a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@16beb24e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1fc3b89f, org.springframework.security.web.session.SessionManagementFilter@271e72c, org.springframework.security.web.access.ExceptionTranslationFilter@507a4536, org.springframework.security.web.access.intercept.AuthorizationFilter@3ae9a051]
2025-07-20T11:01:53.652+07:00  INFO 28522 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@16eb2fc5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@780a5029, org.springframework.security.web.context.SecurityContextHolderFilter@1ab11276, org.springframework.security.web.header.HeaderWriterFilter@1ad07e97, org.springframework.web.filter.CorsFilter@7c93da81, org.springframework.security.web.authentication.logout.LogoutFilter@25597ad3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4b31d637, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ed41b71, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7a8edec3, org.springframework.security.web.access.ExceptionTranslationFilter@7ea36464, org.springframework.security.web.access.intercept.AuthorizationFilter@6e9d10c0]
2025-07-20T11:01:53.730+07:00  INFO 28522 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:01:53.743+07:00  INFO 28522 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:01:53.746+07:00  INFO 28522 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.435 seconds (process running for 2213.708)
2025-07-20T11:01:53.747+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:01:53.751+07:00  INFO 28522 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:01:53.778+07:00  INFO 28522 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:02:06.123+07:00  INFO 28522 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:02:06.123+07:00  INFO 28522 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown initiated...
2025-07-20T11:02:06.124+07:00  INFO 28522 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-17 - Shutdown completed.
2025-07-20T11:02:08.811+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:02:08.812+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:02:08.856+07:00  INFO 29063 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:02:08.856+07:00  INFO 29063 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:02:09.484+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:02:09.559+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 19 JPA repository interfaces.
2025-07-20T11:02:09.946+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:02:09.952+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:02:09.952+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:02:09.982+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:02:09.982+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1125 ms
2025-07-20T11:02:10.070+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:02:10.108+07:00  INFO 29063 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:02:10.110+07:00  INFO 29063 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:02:10.187+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:02:10.258+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:02:10.267+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:02:10.505+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7f2a5dcd
2025-07-20T11:02:10.506+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:02:10.536+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:02:10.732+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:02:11.359+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:02:11.362+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:02:11.852+07:00  INFO 29063 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:02:12.683+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:02:13.121+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2bcd85b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@31c29903, org.springframework.security.web.context.SecurityContextHolderFilter@1c2cd3cd, org.springframework.security.web.header.HeaderWriterFilter@4632a18d, org.springframework.web.filter.CorsFilter@47881a9a, org.springframework.security.web.authentication.logout.LogoutFilter@78f46d0e, com.example.shoppingsystem.config.JwtAuthenticationFilter@4996e8eb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@dc4016c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5167f695, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3d189676, org.springframework.security.web.session.SessionManagementFilter@2d7bea22, org.springframework.security.web.access.ExceptionTranslationFilter@438216b4, org.springframework.security.web.access.intercept.AuthorizationFilter@7f699483]
2025-07-20T11:02:13.133+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@40160b84, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3098be12, org.springframework.security.web.context.SecurityContextHolderFilter@1f5f9a5a, org.springframework.security.web.header.HeaderWriterFilter@41e703db, org.springframework.web.filter.CorsFilter@2fcf764, org.springframework.security.web.authentication.logout.LogoutFilter@7c46529f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@e8a6260, org.springframework.security.web.session.ConcurrentSessionFilter@56da93be, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d1abd6c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3d82388a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5fb80c39, org.springframework.security.web.session.SessionManagementFilter@2dc0af7, org.springframework.security.web.access.ExceptionTranslationFilter@4956a4e0, org.springframework.security.web.access.intercept.AuthorizationFilter@7d99e9ec]
2025-07-20T11:02:13.135+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1c28ded3, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@17239e3a, org.springframework.security.web.context.SecurityContextHolderFilter@529541f, org.springframework.security.web.header.HeaderWriterFilter@3c80be3c, org.springframework.web.filter.CorsFilter@6b27ad7c, org.springframework.security.web.authentication.logout.LogoutFilter@665dbbaf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@633c3205, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1053b657, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7dbba8a6, org.springframework.security.web.access.ExceptionTranslationFilter@3b790cb1, org.springframework.security.web.access.intercept.AuthorizationFilter@691fe2bc]
2025-07-20T11:02:13.326+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:02:13.356+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:02:13.366+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.786 seconds (process running for 5.207)
2025-07-20T11:02:13.369+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:02:13.394+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:02:13.695+07:00  INFO 29063 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:02:13.696+07:00  INFO 29063 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:02:13.697+07:00  INFO 29063 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T11:02:34.869+07:00  INFO 29063 --- [http-nio-8080-exec-5] c.e.s.s.i.NotificationServiceImpl        : Sending product notification to: quitqce160195@fpt.edu.vn - Cảnh báo vi phạm
2025-07-20T11:02:34.874+07:00  INFO 29063 --- [http-nio-8080-exec-5] c.e.s.s.i.NotificationServiceImpl        : Product notification sent successfully to: quitqce160195@fpt.edu.vn
2025-07-20T11:02:34.876+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-1] c.e.s.auth.EmailServiceImpl              : Processing product notification email to: quitqce160195@fpt.edu.vn
2025-07-20T11:02:38.680+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-1] c.e.s.auth.EmailServiceImpl              : Product notification email sent successfully to: quitqce160195@fpt.edu.vn
2025-07-20T11:03:42.115+07:00  INFO 29063 --- [http-nio-8080-exec-7] c.e.s.s.i.NotificationServiceImpl        : Sending notification to user: quitqce160195@fpt.edu.vn - Tài khoản bị tạm khóa
2025-07-20T11:03:42.116+07:00  INFO 29063 --- [http-nio-8080-exec-7] c.e.s.s.i.NotificationServiceImpl        : Notification sent successfully to user: quitqce160195@fpt.edu.vn
2025-07-20T11:03:42.116+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-2] c.e.s.auth.EmailServiceImpl              : Processing notification email to: quitqce160195@fpt.edu.vn
2025-07-20T11:03:45.745+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-2] c.e.s.auth.EmailServiceImpl              : Notification email sent successfully to: quitqce160195@fpt.edu.vn
2025-07-20T11:04:18.343+07:00  INFO 29063 --- [http-nio-8080-exec-3] c.e.s.s.i.NotificationServiceImpl        : Sending notification to user: quitqce160195@fpt.edu.vn - Tài khoản được kích hoạt
2025-07-20T11:04:18.345+07:00  INFO 29063 --- [http-nio-8080-exec-3] c.e.s.s.i.NotificationServiceImpl        : Notification sent successfully to user: quitqce160195@fpt.edu.vn
2025-07-20T11:04:18.345+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-3] c.e.s.auth.EmailServiceImpl              : Processing notification email to: quitqce160195@fpt.edu.vn
2025-07-20T11:04:21.669+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-3] c.e.s.auth.EmailServiceImpl              : Notification email sent successfully to: quitqce160195@fpt.edu.vn
2025-07-20T11:04:30.523+07:00  INFO 29063 --- [http-nio-8080-exec-6] c.e.s.s.i.NotificationServiceImpl        : Sending notification to user: quitqce160195@fpt.edu.vn - Mật khẩu đã được reset
2025-07-20T11:04:30.523+07:00  INFO 29063 --- [http-nio-8080-exec-6] c.e.s.s.i.NotificationServiceImpl        : Notification sent successfully to user: quitqce160195@fpt.edu.vn
2025-07-20T11:04:30.523+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-4] c.e.s.auth.EmailServiceImpl              : Processing notification email to: quitqce160195@fpt.edu.vn
2025-07-20T11:04:33.670+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-4] c.e.s.auth.EmailServiceImpl              : Notification email sent successfully to: quitqce160195@fpt.edu.vn
2025-07-20T11:06:46.502+07:00  INFO 29063 --- [http-nio-8080-exec-10] c.e.s.s.i.NotificationServiceImpl        : Sending product notification to: wangwuypro@gmail.com - Sản phẩm được phê duyệt
2025-07-20T11:06:46.504+07:00  INFO 29063 --- [http-nio-8080-exec-10] c.e.s.s.i.NotificationServiceImpl        : Product notification sent successfully to: wangwuypro@gmail.com
2025-07-20T11:06:46.504+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-5] c.e.s.auth.EmailServiceImpl              : Processing product notification email to: wangwuypro@gmail.com
2025-07-20T11:06:49.760+07:00  INFO 29063 --- [SimpleAsyncTaskExecutor-5] c.e.s.auth.EmailServiceImpl              : Product notification email sent successfully to: wangwuypro@gmail.com
2025-07-20T11:07:13.370+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:07:13.375+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:12:13.398+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:12:13.406+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:15:40.843+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:15:40.868+07:00  INFO 29063 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:15:40.870+07:00  INFO 29063 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:15:40.882+07:00  WARN 29063 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [88F832E0423D9222B0B5AEB54898ECDE]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T11:15:40.890+07:00  WARN 29063 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:15:40.906+07:00  INFO 29063 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:15:40.909+07:00  INFO 29063 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:15:40.915+07:00  INFO 29063 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T11:15:41.010+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:15:41.010+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:15:41.245+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:15:41.284+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 39 ms. Found 19 JPA repository interfaces.
2025-07-20T11:15:41.409+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:15:41.409+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:15:41.409+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:15:41.419+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:15:41.420+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 409 ms
2025-07-20T11:15:41.462+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:15:41.466+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:15:41.466+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:15:41.466+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-20T11:15:41.480+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7bfd21d0
2025-07-20T11:15:41.481+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-20T11:15:41.482+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:15:41.556+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:15:41.826+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:15:41.826+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:15:41.955+07:00  WARN 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [88F832E0423D9222B0B5AEB54898ECDE]
2025-07-20T11:15:42.470+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:15:42.771+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@403aecb9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a6ae2b0, org.springframework.security.web.context.SecurityContextHolderFilter@41c184c1, org.springframework.security.web.header.HeaderWriterFilter@55c089de, org.springframework.web.filter.CorsFilter@4f5a4730, org.springframework.security.web.authentication.logout.LogoutFilter@3afe0c92, com.example.shoppingsystem.config.JwtAuthenticationFilter@6170c04d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@414a6b7a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@109584f4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42b201b2, org.springframework.security.web.session.SessionManagementFilter@136e890a, org.springframework.security.web.access.ExceptionTranslationFilter@44a8946f, org.springframework.security.web.access.intercept.AuthorizationFilter@14f322d3]
2025-07-20T11:15:42.778+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@41b29549, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@925ad15, org.springframework.security.web.context.SecurityContextHolderFilter@974eaee, org.springframework.security.web.header.HeaderWriterFilter@9cb59fa, org.springframework.web.filter.CorsFilter@5d4fe4c1, org.springframework.security.web.authentication.logout.LogoutFilter@1334bdbe, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@77dd0f41, org.springframework.security.web.session.ConcurrentSessionFilter@2563c16c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5a2366b3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@66ada7d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@42775f2e, org.springframework.security.web.session.SessionManagementFilter@7b04e228, org.springframework.security.web.access.ExceptionTranslationFilter@5a1ed4aa, org.springframework.security.web.access.intercept.AuthorizationFilter@28ad696]
2025-07-20T11:15:42.779+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@b51afdf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43f6db10, org.springframework.security.web.context.SecurityContextHolderFilter@3de409d5, org.springframework.security.web.header.HeaderWriterFilter@114d3b9f, org.springframework.web.filter.CorsFilter@6f79d06f, org.springframework.security.web.authentication.logout.LogoutFilter@1f7ae2bf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14865706, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7aa4a49a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6397fc20, org.springframework.security.web.access.ExceptionTranslationFilter@6361a5a1, org.springframework.security.web.access.intercept.AuthorizationFilter@66bd5be3]
2025-07-20T11:15:42.892+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:15:42.908+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:15:42.914+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.922 seconds (process running for 814.728)
2025-07-20T11:15:42.915+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:15:42.917+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:15:43.001+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:15:49.391+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:15:49.394+07:00  INFO 29063 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:15:49.396+07:00  WARN 29063 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:15:49.399+07:00  INFO 29063 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:15:49.400+07:00  INFO 29063 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-20T11:15:49.402+07:00  INFO 29063 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-20T11:15:49.467+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:15:49.467+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:15:49.609+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:15:49.667+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 57 ms. Found 19 JPA repository interfaces.
2025-07-20T11:15:49.776+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:15:49.776+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:15:49.776+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:15:49.785+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:15:49.785+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 317 ms
2025-07-20T11:15:49.822+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:15:49.825+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:15:49.825+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:15:49.826+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-20T11:15:49.836+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@47c0022e
2025-07-20T11:15:49.837+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-20T11:15:49.837+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:15:49.886+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:15:50.062+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:15:50.063+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:15:50.696+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:15:51.062+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@1739ff43, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@12c2a310, org.springframework.security.web.context.SecurityContextHolderFilter@35c61b36, org.springframework.security.web.header.HeaderWriterFilter@4cb092eb, org.springframework.web.filter.CorsFilter@75baa18c, org.springframework.security.web.authentication.logout.LogoutFilter@75fe0014, com.example.shoppingsystem.config.JwtAuthenticationFilter@69384600, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13356aca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b5a958d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556ae209, org.springframework.security.web.session.SessionManagementFilter@769ba1c2, org.springframework.security.web.access.ExceptionTranslationFilter@16c61266, org.springframework.security.web.access.intercept.AuthorizationFilter@425c559f]
2025-07-20T11:15:51.070+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@49410967, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2fef0b68, org.springframework.security.web.context.SecurityContextHolderFilter@5cb2c843, org.springframework.security.web.header.HeaderWriterFilter@3f6bc4cc, org.springframework.web.filter.CorsFilter@14dc8b6, org.springframework.security.web.authentication.logout.LogoutFilter@3154fc21, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@5f62535e, org.springframework.security.web.session.ConcurrentSessionFilter@711afb97, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3d9e3abd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d8e4daa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4c788362, org.springframework.security.web.session.SessionManagementFilter@4df5b0b4, org.springframework.security.web.access.ExceptionTranslationFilter@370340cf, org.springframework.security.web.access.intercept.AuthorizationFilter@521f9279]
2025-07-20T11:15:51.071+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1625e66a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3acd7220, org.springframework.security.web.context.SecurityContextHolderFilter@60f08b9c, org.springframework.security.web.header.HeaderWriterFilter@76b113ce, org.springframework.web.filter.CorsFilter@6d6c2149, org.springframework.security.web.authentication.logout.LogoutFilter@1956a24c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a8a382c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cf36cc, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5933f611, org.springframework.security.web.access.ExceptionTranslationFilter@1fd6c746, org.springframework.security.web.access.intercept.AuthorizationFilter@18e581d4]
2025-07-20T11:15:51.163+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:15:51.176+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:15:51.180+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.724 seconds (process running for 822.994)
2025-07-20T11:15:51.181+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:15:51.183+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:15:51.385+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:16:35.234+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 9 class path changes (9 additions, 0 deletions, 0 modifications)
2025-07-20T11:16:35.246+07:00  INFO 29063 --- [Thread-11] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:16:35.252+07:00  WARN 29063 --- [Thread-11] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-3 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:16:35.258+07:00  INFO 29063 --- [Thread-11] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:35.260+07:00  INFO 29063 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-20T11:16:35.265+07:00  INFO 29063 --- [Thread-11] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-20T11:16:35.385+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:16:35.386+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:16:35.609+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:16:35.640+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 19 JPA repository interfaces.
2025-07-20T11:16:35.742+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:16:35.742+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:16:35.742+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:16:35.752+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:16:35.752+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 365 ms
2025-07-20T11:16:35.800+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:16:35.806+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:35.806+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:16:35.806+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-20T11:16:35.848+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@24cdc874
2025-07-20T11:16:35.849+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-20T11:16:35.849+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:16:35.971+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:36.176+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:16:36.176+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:36.832+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:16:37.075+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6a4941a2, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62a1ed75, org.springframework.security.web.context.SecurityContextHolderFilter@5ae8529c, org.springframework.security.web.header.HeaderWriterFilter@197970af, org.springframework.web.filter.CorsFilter@54adc07a, org.springframework.security.web.authentication.logout.LogoutFilter@79ae29cf, com.example.shoppingsystem.config.JwtAuthenticationFilter@7b0b72d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6b6098a2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@39ce7169, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53eb0e36, org.springframework.security.web.session.SessionManagementFilter@4c9289d9, org.springframework.security.web.access.ExceptionTranslationFilter@7839300b, org.springframework.security.web.access.intercept.AuthorizationFilter@5c6b655c]
2025-07-20T11:16:37.082+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@93ffe3f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4ca6ea7b, org.springframework.security.web.context.SecurityContextHolderFilter@150e73c4, org.springframework.security.web.header.HeaderWriterFilter@7eed4d02, org.springframework.web.filter.CorsFilter@2251fb81, org.springframework.security.web.authentication.logout.LogoutFilter@353b304e, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@656a1b9c, org.springframework.security.web.session.ConcurrentSessionFilter@5d46b0dd, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19fa93a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3b656649, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1752b2ac, org.springframework.security.web.session.SessionManagementFilter@697a774f, org.springframework.security.web.access.ExceptionTranslationFilter@50030079, org.springframework.security.web.access.intercept.AuthorizationFilter@5956f9ef]
2025-07-20T11:16:37.083+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4d054e52, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68566fd9, org.springframework.security.web.context.SecurityContextHolderFilter@75468ce9, org.springframework.security.web.header.HeaderWriterFilter@3176e769, org.springframework.web.filter.CorsFilter@3eba2a64, org.springframework.security.web.authentication.logout.LogoutFilter@2e4176f5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3741aa52, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@696a71d7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@233f70b0, org.springframework.security.web.access.ExceptionTranslationFilter@46f310d5, org.springframework.security.web.access.intercept.AuthorizationFilter@2eb665d6]
2025-07-20T11:16:37.201+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:16:37.215+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:16:37.219+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.846 seconds (process running for 869.032)
2025-07-20T11:16:37.220+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:16:37.223+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:16:37.255+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:16:42.118+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T11:16:42.121+07:00  INFO 29063 --- [Thread-15] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:16:42.124+07:00  WARN 29063 --- [Thread-15] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-4 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:16:42.128+07:00  INFO 29063 --- [Thread-15] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:42.128+07:00  INFO 29063 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-20T11:16:42.131+07:00  INFO 29063 --- [Thread-15] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-20T11:16:42.200+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:16:42.201+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:16:42.391+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:16:42.446+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 54 ms. Found 20 JPA repository interfaces.
2025-07-20T11:16:42.587+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:16:42.587+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:16:42.587+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:16:42.597+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:16:42.597+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 395 ms
2025-07-20T11:16:42.646+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:16:42.654+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:42.654+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:16:42.654+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-20T11:16:42.668+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5df55bdf
2025-07-20T11:16:42.668+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-20T11:16:42.668+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:16:42.727+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:42.957+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:16:42.957+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:43.521+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:16:43.779+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@277472bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2b654dbc, org.springframework.security.web.context.SecurityContextHolderFilter@2339a22f, org.springframework.security.web.header.HeaderWriterFilter@14b74989, org.springframework.web.filter.CorsFilter@53839312, org.springframework.security.web.authentication.logout.LogoutFilter@736ffe4b, com.example.shoppingsystem.config.JwtAuthenticationFilter@40ac1bbc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1fa0643d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@31759d41, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2653becd, org.springframework.security.web.session.SessionManagementFilter@2fd06400, org.springframework.security.web.access.ExceptionTranslationFilter@531df712, org.springframework.security.web.access.intercept.AuthorizationFilter@72f0fabd]
2025-07-20T11:16:43.785+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@27b0146f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7cae7e5f, org.springframework.security.web.context.SecurityContextHolderFilter@30a99953, org.springframework.security.web.header.HeaderWriterFilter@4124e489, org.springframework.web.filter.CorsFilter@7d564fa1, org.springframework.security.web.authentication.logout.LogoutFilter@2a53c61, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@c5d77b1, org.springframework.security.web.session.ConcurrentSessionFilter@d28dfcb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56cf2363, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35a7060c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ad14f45, org.springframework.security.web.session.SessionManagementFilter@3eaba402, org.springframework.security.web.access.ExceptionTranslationFilter@f664b46, org.springframework.security.web.access.intercept.AuthorizationFilter@204437bc]
2025-07-20T11:16:43.786+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4819ee3a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47aaabcb, org.springframework.security.web.context.SecurityContextHolderFilter@48d71fa3, org.springframework.security.web.header.HeaderWriterFilter@308c0d54, org.springframework.web.filter.CorsFilter@3deaf55e, org.springframework.security.web.authentication.logout.LogoutFilter@68bce002, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@330e354c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48d08c49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78f59716, org.springframework.security.web.access.ExceptionTranslationFilter@4cf6ea7e, org.springframework.security.web.access.intercept.AuthorizationFilter@66246fca]
2025-07-20T11:16:43.911+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:16:43.927+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:16:43.930+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.744 seconds (process running for 875.744)
2025-07-20T11:16:43.931+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:16:43.932+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:16:43.961+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:16:48.403+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:16:48.411+07:00  INFO 29063 --- [Thread-19] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:16:48.415+07:00  WARN 29063 --- [Thread-19] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-5 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:16:48.419+07:00  INFO 29063 --- [Thread-19] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:48.421+07:00  INFO 29063 --- [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-20T11:16:48.425+07:00  INFO 29063 --- [Thread-19] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-20T11:16:48.556+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:16:48.557+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:16:48.749+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:16:48.782+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 20 JPA repository interfaces.
2025-07-20T11:16:48.892+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:16:48.893+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:16:48.893+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:16:48.902+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:16:48.902+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 343 ms
2025-07-20T11:16:48.938+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:16:48.942+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:48.942+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:16:48.942+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Starting...
2025-07-20T11:16:48.958+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-6 - Added connection com.mysql.cj.jdbc.ConnectionImpl@3a6370ce
2025-07-20T11:16:48.958+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Start completed.
2025-07-20T11:16:48.958+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:16:49.015+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:49.259+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:16:49.260+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:49.884+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:16:50.236+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@29e29230, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@26971135, org.springframework.security.web.context.SecurityContextHolderFilter@74c93842, org.springframework.security.web.header.HeaderWriterFilter@64c4b86, org.springframework.web.filter.CorsFilter@4545da3f, org.springframework.security.web.authentication.logout.LogoutFilter@6d5c44d5, com.example.shoppingsystem.config.JwtAuthenticationFilter@3d56e2e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@56cfcfff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@323bbedb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5c572c51, org.springframework.security.web.session.SessionManagementFilter@6f81a658, org.springframework.security.web.access.ExceptionTranslationFilter@7e0b85e9, org.springframework.security.web.access.intercept.AuthorizationFilter@2a667da3]
2025-07-20T11:16:50.247+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5552e4f5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@158e3e8b, org.springframework.security.web.context.SecurityContextHolderFilter@55bb3cc9, org.springframework.security.web.header.HeaderWriterFilter@5038d5a1, org.springframework.web.filter.CorsFilter@5e85f850, org.springframework.security.web.authentication.logout.LogoutFilter@24b4bef2, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@549083bb, org.springframework.security.web.session.ConcurrentSessionFilter@5e602156, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@43b87e02, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77d0777e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@ed83560, org.springframework.security.web.session.SessionManagementFilter@2332fdc6, org.springframework.security.web.access.ExceptionTranslationFilter@8a07e05, org.springframework.security.web.access.intercept.AuthorizationFilter@5063746e]
2025-07-20T11:16:50.250+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3b0fed30, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2c937bb4, org.springframework.security.web.context.SecurityContextHolderFilter@75c20c, org.springframework.security.web.header.HeaderWriterFilter@1af2eaa3, org.springframework.web.filter.CorsFilter@75d8ba4c, org.springframework.security.web.authentication.logout.LogoutFilter@5418627f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2a434991, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@77f9f135, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@558df210, org.springframework.security.web.access.ExceptionTranslationFilter@4ab2eab6, org.springframework.security.web.access.intercept.AuthorizationFilter@5cef8344]
2025-07-20T11:16:50.381+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:16:50.396+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:16:50.400+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.876 seconds (process running for 882.214)
2025-07-20T11:16:50.401+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:16:50.403+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:16:50.434+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:16:51.809+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 0 deletions, 1 modification)
2025-07-20T11:16:51.812+07:00  INFO 29063 --- [Thread-23] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:16:51.813+07:00  WARN 29063 --- [Thread-23] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-6 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:16:51.813+07:00  WARN 29063 --- [Thread-23] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-6 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:16:51.816+07:00  INFO 29063 --- [Thread-23] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:51.817+07:00  INFO 29063 --- [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown initiated...
2025-07-20T11:16:51.819+07:00  INFO 29063 --- [Thread-23] com.zaxxer.hikari.HikariDataSource       : HikariPool-6 - Shutdown completed.
2025-07-20T11:16:51.874+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:16:51.875+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:16:51.986+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:16:52.015+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 21 JPA repository interfaces.
2025-07-20T11:16:52.113+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:16:52.114+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:16:52.114+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:16:52.123+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:16:52.123+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 248 ms
2025-07-20T11:16:52.156+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:16:52.159+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:52.160+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:16:52.160+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Starting...
2025-07-20T11:16:52.170+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-7 - Added connection com.mysql.cj.jdbc.ConnectionImpl@7edc8a2d
2025-07-20T11:16:52.170+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Start completed.
2025-07-20T11:16:52.170+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:16:52.218+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:16:52.382+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:16:52.383+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:16:52.940+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:16:53.154+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@66880cb, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@fa3143d, org.springframework.security.web.context.SecurityContextHolderFilter@3a778a9, org.springframework.security.web.header.HeaderWriterFilter@3b017fe4, org.springframework.web.filter.CorsFilter@11b02865, org.springframework.security.web.authentication.logout.LogoutFilter@20352efd, com.example.shoppingsystem.config.JwtAuthenticationFilter@23afe2a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2c1f1e71, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c51ba49, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@dca537a, org.springframework.security.web.session.SessionManagementFilter@665c5cc6, org.springframework.security.web.access.ExceptionTranslationFilter@475d195d, org.springframework.security.web.access.intercept.AuthorizationFilter@659f3f26]
2025-07-20T11:16:53.161+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@19ef2c21, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@538559af, org.springframework.security.web.context.SecurityContextHolderFilter@5cab3b75, org.springframework.security.web.header.HeaderWriterFilter@73d3fa8c, org.springframework.web.filter.CorsFilter@168e3578, org.springframework.security.web.authentication.logout.LogoutFilter@64495007, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@37888bbf, org.springframework.security.web.session.ConcurrentSessionFilter@44db6372, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@30c0bdf6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ee3938b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65288165, org.springframework.security.web.session.SessionManagementFilter@68c4d530, org.springframework.security.web.access.ExceptionTranslationFilter@54299824, org.springframework.security.web.access.intercept.AuthorizationFilter@334ed00f]
2025-07-20T11:16:53.162+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@276d134d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2f3ea3dd, org.springframework.security.web.context.SecurityContextHolderFilter@726bcdd0, org.springframework.security.web.header.HeaderWriterFilter@dca4fee, org.springframework.web.filter.CorsFilter@7712af9b, org.springframework.security.web.authentication.logout.LogoutFilter@3727ef82, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3695a6ec, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@44e43623, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@491cf2c8, org.springframework.security.web.access.ExceptionTranslationFilter@2cabc518, org.springframework.security.web.access.intercept.AuthorizationFilter@49aef3d2]
2025-07-20T11:16:53.292+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:16:53.306+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:16:53.309+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.445 seconds (process running for 885.122)
2025-07-20T11:16:53.310+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:16:53.311+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:16:53.337+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:00.798+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:17:00.801+07:00  INFO 29063 --- [Thread-27] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:00.802+07:00  WARN 29063 --- [Thread-27] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-7 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:00.808+07:00  INFO 29063 --- [Thread-27] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:00.808+07:00  INFO 29063 --- [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown initiated...
2025-07-20T11:17:00.810+07:00  INFO 29063 --- [Thread-27] com.zaxxer.hikari.HikariDataSource       : HikariPool-7 - Shutdown completed.
2025-07-20T11:17:00.866+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:00.866+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:00.984+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:01.013+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 29 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:01.112+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:01.112+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:01.113+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:01.122+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:01.122+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 255 ms
2025-07-20T11:17:01.156+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:01.159+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:01.159+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:01.160+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Starting...
2025-07-20T11:17:01.173+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-8 - Added connection com.mysql.cj.jdbc.ConnectionImpl@54ece770
2025-07-20T11:17:01.173+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Start completed.
2025-07-20T11:17:01.173+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:01.221+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:01.386+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:01.386+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:01.916+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:02.136+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2ce73dec, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@47c91711, org.springframework.security.web.context.SecurityContextHolderFilter@77922ece, org.springframework.security.web.header.HeaderWriterFilter@3d8b4bd7, org.springframework.web.filter.CorsFilter@6bc74735, org.springframework.security.web.authentication.logout.LogoutFilter@42d5320b, com.example.shoppingsystem.config.JwtAuthenticationFilter@3770099f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@68479e28, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@f75b504, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f3cdd25, org.springframework.security.web.session.SessionManagementFilter@108771ca, org.springframework.security.web.access.ExceptionTranslationFilter@54697460, org.springframework.security.web.access.intercept.AuthorizationFilter@34c818f0]
2025-07-20T11:17:02.142+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@15b77d4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7b6524a8, org.springframework.security.web.context.SecurityContextHolderFilter@2598595e, org.springframework.security.web.header.HeaderWriterFilter@b3c96c3, org.springframework.web.filter.CorsFilter@143f1efe, org.springframework.security.web.authentication.logout.LogoutFilter@2aee7bf4, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@58b386ed, org.springframework.security.web.session.ConcurrentSessionFilter@6b8aa337, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a7d49a0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73760ffa, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50ff767a, org.springframework.security.web.session.SessionManagementFilter@7459ad78, org.springframework.security.web.access.ExceptionTranslationFilter@6345b333, org.springframework.security.web.access.intercept.AuthorizationFilter@49b4d03a]
2025-07-20T11:17:02.143+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c5b970f, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5722e2f6, org.springframework.security.web.context.SecurityContextHolderFilter@302defcc, org.springframework.security.web.header.HeaderWriterFilter@346094ab, org.springframework.web.filter.CorsFilter@5fe2bb, org.springframework.security.web.authentication.logout.LogoutFilter@7c92f012, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@17b9f3aa, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@13eb3338, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@59be4fea, org.springframework.security.web.access.ExceptionTranslationFilter@cb11cf1, org.springframework.security.web.access.intercept.AuthorizationFilter@6e56edcf]
2025-07-20T11:17:02.260+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:02.274+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:02.277+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.421 seconds (process running for 894.09)
2025-07-20T11:17:02.278+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:02.279+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:02.308+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:07.748+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:17:07.757+07:00  INFO 29063 --- [Thread-31] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:07.761+07:00  WARN 29063 --- [Thread-31] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-8 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:07.766+07:00  INFO 29063 --- [Thread-31] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:07.768+07:00  INFO 29063 --- [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown initiated...
2025-07-20T11:17:07.777+07:00  INFO 29063 --- [Thread-31] com.zaxxer.hikari.HikariDataSource       : HikariPool-8 - Shutdown completed.
2025-07-20T11:17:07.906+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:07.907+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:08.041+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:08.076+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 35 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:08.183+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:08.183+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:08.183+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:08.194+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:08.194+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 286 ms
2025-07-20T11:17:08.233+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:08.237+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:08.237+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:08.237+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Starting...
2025-07-20T11:17:08.251+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-9 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6ed27762
2025-07-20T11:17:08.251+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Start completed.
2025-07-20T11:17:08.251+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:08.305+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:08.484+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:08.485+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:09.013+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:09.222+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@729905c4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a00f26a, org.springframework.security.web.context.SecurityContextHolderFilter@a502e47, org.springframework.security.web.header.HeaderWriterFilter@7436715c, org.springframework.web.filter.CorsFilter@1d6ec802, org.springframework.security.web.authentication.logout.LogoutFilter@2695c095, com.example.shoppingsystem.config.JwtAuthenticationFilter@7ca0451b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7abee9ea, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3dc5cb70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7729121, org.springframework.security.web.session.SessionManagementFilter@618e3cef, org.springframework.security.web.access.ExceptionTranslationFilter@2d9ba0bf, org.springframework.security.web.access.intercept.AuthorizationFilter@38e44c52]
2025-07-20T11:17:09.228+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@12078765, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@14fadd15, org.springframework.security.web.context.SecurityContextHolderFilter@262a54cd, org.springframework.security.web.header.HeaderWriterFilter@5f29bae4, org.springframework.web.filter.CorsFilter@b29c6a4, org.springframework.security.web.authentication.logout.LogoutFilter@1a4359a9, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@12890a8c, org.springframework.security.web.session.ConcurrentSessionFilter@7a450793, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34c62476, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c100511, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@512e6027, org.springframework.security.web.session.SessionManagementFilter@3a165916, org.springframework.security.web.access.ExceptionTranslationFilter@3d8c27f9, org.springframework.security.web.access.intercept.AuthorizationFilter@23278d7b]
2025-07-20T11:17:09.229+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@ee3d12e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@48fca15f, org.springframework.security.web.context.SecurityContextHolderFilter@48ffa792, org.springframework.security.web.header.HeaderWriterFilter@734f4ea5, org.springframework.web.filter.CorsFilter@6f785992, org.springframework.security.web.authentication.logout.LogoutFilter@2e5d0085, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4faf9ed0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1298a9c5, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15075719, org.springframework.security.web.access.ExceptionTranslationFilter@64b7434, org.springframework.security.web.access.intercept.AuthorizationFilter@4ab61662]
2025-07-20T11:17:09.349+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:09.363+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:09.366+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.472 seconds (process running for 901.179)
2025-07-20T11:17:09.367+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:09.369+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:09.397+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:14.835+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (3 additions, 0 deletions, 0 modifications)
2025-07-20T11:17:14.838+07:00  INFO 29063 --- [Thread-35] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:14.840+07:00  WARN 29063 --- [Thread-35] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-9 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:14.847+07:00  INFO 29063 --- [Thread-35] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:14.848+07:00  INFO 29063 --- [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown initiated...
2025-07-20T11:17:14.853+07:00  INFO 29063 --- [Thread-35] com.zaxxer.hikari.HikariDataSource       : HikariPool-9 - Shutdown completed.
2025-07-20T11:17:14.916+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:14.916+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:15.050+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:15.080+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 30 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:15.174+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:15.174+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:15.174+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:15.182+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:15.182+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 265 ms
2025-07-20T11:17:15.216+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:15.219+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:15.219+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:15.219+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Starting...
2025-07-20T11:17:15.230+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-10 - Added connection com.mysql.cj.jdbc.ConnectionImpl@4ea215c6
2025-07-20T11:17:15.230+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Start completed.
2025-07-20T11:17:15.230+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:15.281+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:15.436+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:15.436+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:15.968+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:16.201+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@adfd4d5, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9b37d5b, org.springframework.security.web.context.SecurityContextHolderFilter@5617151b, org.springframework.security.web.header.HeaderWriterFilter@77f7698f, org.springframework.web.filter.CorsFilter@7175b145, org.springframework.security.web.authentication.logout.LogoutFilter@1d53d792, com.example.shoppingsystem.config.JwtAuthenticationFilter@5d6725eb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6354e4ef, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fa3521b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9203ba4, org.springframework.security.web.session.SessionManagementFilter@467351ca, org.springframework.security.web.access.ExceptionTranslationFilter@4b5fd53b, org.springframework.security.web.access.intercept.AuthorizationFilter@6ce289f6]
2025-07-20T11:17:16.208+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@19ce6d4c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ff19f0a, org.springframework.security.web.context.SecurityContextHolderFilter@75647904, org.springframework.security.web.header.HeaderWriterFilter@6ab0e584, org.springframework.web.filter.CorsFilter@3715c154, org.springframework.security.web.authentication.logout.LogoutFilter@495a4da3, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@2620ff6, org.springframework.security.web.session.ConcurrentSessionFilter@29cea2d4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@18153ee9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@432479a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@251a75ff, org.springframework.security.web.session.SessionManagementFilter@1159466d, org.springframework.security.web.access.ExceptionTranslationFilter@5970b0d1, org.springframework.security.web.access.intercept.AuthorizationFilter@18801f87]
2025-07-20T11:17:16.210+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@38a51dbf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ea998df, org.springframework.security.web.context.SecurityContextHolderFilter@2510ad17, org.springframework.security.web.header.HeaderWriterFilter@5f750cd1, org.springframework.web.filter.CorsFilter@3ccd28d4, org.springframework.security.web.authentication.logout.LogoutFilter@547c48dc, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@87fdff, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3c0bc67, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2573f59f, org.springframework.security.web.access.ExceptionTranslationFilter@40286d8d, org.springframework.security.web.access.intercept.AuthorizationFilter@6d0e852f]
2025-07-20T11:17:16.338+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:16.352+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:16.356+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.45 seconds (process running for 908.169)
2025-07-20T11:17:16.357+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:16.359+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:16.390+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:20.202+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (1 addition, 0 deletions, 1 modification)
2025-07-20T11:17:20.208+07:00  INFO 29063 --- [Thread-39] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:20.211+07:00  WARN 29063 --- [Thread-39] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-10 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:20.211+07:00  WARN 29063 --- [Thread-39] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-10 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:20.217+07:00  INFO 29063 --- [Thread-39] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:20.218+07:00  INFO 29063 --- [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown initiated...
2025-07-20T11:17:20.222+07:00  INFO 29063 --- [Thread-39] com.zaxxer.hikari.HikariDataSource       : HikariPool-10 - Shutdown completed.
2025-07-20T11:17:20.283+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:20.284+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:20.403+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:20.432+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 28 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:20.529+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:20.530+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:20.530+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:20.539+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:20.539+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 254 ms
2025-07-20T11:17:20.574+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:20.577+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:20.577+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:20.577+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Starting...
2025-07-20T11:17:20.588+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-11 - Added connection com.mysql.cj.jdbc.ConnectionImpl@537286e3
2025-07-20T11:17:20.588+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Start completed.
2025-07-20T11:17:20.588+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:20.637+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:20.799+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:20.799+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:21.307+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:21.527+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@52930af8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@44042769, org.springframework.security.web.context.SecurityContextHolderFilter@64285e6f, org.springframework.security.web.header.HeaderWriterFilter@77621d91, org.springframework.web.filter.CorsFilter@2ed32c08, org.springframework.security.web.authentication.logout.LogoutFilter@22f69ef5, com.example.shoppingsystem.config.JwtAuthenticationFilter@482ba43b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36308f63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@51d982a1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@53634e9d, org.springframework.security.web.session.SessionManagementFilter@7ca5345b, org.springframework.security.web.access.ExceptionTranslationFilter@45f2f70e, org.springframework.security.web.access.intercept.AuthorizationFilter@d5e0265]
2025-07-20T11:17:21.532+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4dc9b720, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@487ad7f1, org.springframework.security.web.context.SecurityContextHolderFilter@da3aab7, org.springframework.security.web.header.HeaderWriterFilter@7e89374b, org.springframework.web.filter.CorsFilter@32e94ef8, org.springframework.security.web.authentication.logout.LogoutFilter@5f10adbd, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@17ee9d25, org.springframework.security.web.session.ConcurrentSessionFilter@5dbc19ed, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3aa7e727, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@72b85c3d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@510dea35, org.springframework.security.web.session.SessionManagementFilter@1aca53b5, org.springframework.security.web.access.ExceptionTranslationFilter@4df3a79a, org.springframework.security.web.access.intercept.AuthorizationFilter@6a62116f]
2025-07-20T11:17:21.534+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4438df1d, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5af75c65, org.springframework.security.web.context.SecurityContextHolderFilter@8d10d63, org.springframework.security.web.header.HeaderWriterFilter@3ef07808, org.springframework.web.filter.CorsFilter@6408daf3, org.springframework.security.web.authentication.logout.LogoutFilter@39c4e2b5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@540f98c9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4735242, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@39e2ac1f, org.springframework.security.web.access.ExceptionTranslationFilter@ecbdce6, org.springframework.security.web.access.intercept.AuthorizationFilter@f5a5db0]
2025-07-20T11:17:21.652+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:21.666+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:21.669+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.396 seconds (process running for 913.483)
2025-07-20T11:17:21.670+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:21.672+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:21.700+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:33.221+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:17:33.228+07:00  INFO 29063 --- [Thread-43] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:33.231+07:00  WARN 29063 --- [Thread-43] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-11 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:33.237+07:00  INFO 29063 --- [Thread-43] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:33.239+07:00  INFO 29063 --- [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown initiated...
2025-07-20T11:17:33.241+07:00  INFO 29063 --- [Thread-43] com.zaxxer.hikari.HikariDataSource       : HikariPool-11 - Shutdown completed.
2025-07-20T11:17:33.321+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:33.321+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:33.481+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:33.518+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:33.620+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:33.620+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:33.620+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:33.630+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:33.630+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 308 ms
2025-07-20T11:17:33.666+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:33.670+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:33.670+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:33.671+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Starting...
2025-07-20T11:17:33.684+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-12 - Added connection com.mysql.cj.jdbc.ConnectionImpl@10f9cdf2
2025-07-20T11:17:33.684+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Start completed.
2025-07-20T11:17:33.684+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:33.735+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:33.919+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:33.919+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:34.458+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:34.673+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@649e54f6, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1259e4b9, org.springframework.security.web.context.SecurityContextHolderFilter@1ecc1441, org.springframework.security.web.header.HeaderWriterFilter@d4bcdc5, org.springframework.web.filter.CorsFilter@30f111d5, org.springframework.security.web.authentication.logout.LogoutFilter@a9f85d1, com.example.shoppingsystem.config.JwtAuthenticationFilter@287b056b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5f6ad313, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@c1c18de, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4f202644, org.springframework.security.web.session.SessionManagementFilter@52f553db, org.springframework.security.web.access.ExceptionTranslationFilter@32fe7338, org.springframework.security.web.access.intercept.AuthorizationFilter@6f520f80]
2025-07-20T11:17:34.679+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@22fdda53, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68491634, org.springframework.security.web.context.SecurityContextHolderFilter@43916457, org.springframework.security.web.header.HeaderWriterFilter@2d6571ca, org.springframework.web.filter.CorsFilter@176317f4, org.springframework.security.web.authentication.logout.LogoutFilter@38205d82, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@188b588d, org.springframework.security.web.session.ConcurrentSessionFilter@30905e8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@45fca6ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@420d6ef1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@556e6aa5, org.springframework.security.web.session.SessionManagementFilter@3bc79626, org.springframework.security.web.access.ExceptionTranslationFilter@60c26617, org.springframework.security.web.access.intercept.AuthorizationFilter@3199d990]
2025-07-20T11:17:34.680+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@7214d053, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@e3de636, org.springframework.security.web.context.SecurityContextHolderFilter@1cf22ca0, org.springframework.security.web.header.HeaderWriterFilter@36cf2a70, org.springframework.web.filter.CorsFilter@2defe423, org.springframework.security.web.authentication.logout.LogoutFilter@5bf3d4a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b75417c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@47f6a9f6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@21fab693, org.springframework.security.web.access.ExceptionTranslationFilter@21fdb642, org.springframework.security.web.access.intercept.AuthorizationFilter@56ab5643]
2025-07-20T11:17:34.799+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:34.814+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:34.817+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.51 seconds (process running for 926.63)
2025-07-20T11:17:34.818+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:34.820+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:34.851+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:17:44.368+07:00  INFO 29063 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:17:44.371+07:00  INFO 29063 --- [Thread-47] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:17:44.372+07:00  WARN 29063 --- [Thread-47] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-12 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:17:44.375+07:00  INFO 29063 --- [Thread-47] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:44.375+07:00  INFO 29063 --- [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown initiated...
2025-07-20T11:17:44.377+07:00  INFO 29063 --- [Thread-47] com.zaxxer.hikari.HikariDataSource       : HikariPool-12 - Shutdown completed.
2025-07-20T11:17:44.446+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29063 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:17:44.446+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:17:44.584+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:17:44.636+07:00  INFO 29063 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 52 ms. Found 21 JPA repository interfaces.
2025-07-20T11:17:44.733+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:17:44.734+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:17:44.734+07:00  INFO 29063 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:17:44.743+07:00  INFO 29063 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:17:44.743+07:00  INFO 29063 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 296 ms
2025-07-20T11:17:44.777+07:00  INFO 29063 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:17:44.780+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:44.780+07:00  INFO 29063 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:17:44.780+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Starting...
2025-07-20T11:17:44.791+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-13 - Added connection com.mysql.cj.jdbc.ConnectionImpl@21e43f42
2025-07-20T11:17:44.791+07:00  INFO 29063 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Start completed.
2025-07-20T11:17:44.791+07:00  WARN 29063 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:17:44.838+07:00  INFO 29063 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:17:44.991+07:00  INFO 29063 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:17:44.992+07:00  INFO 29063 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:17:45.524+07:00  WARN 29063 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:17:45.813+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@16c10f41, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c58d9d5, org.springframework.security.web.context.SecurityContextHolderFilter@4162b69c, org.springframework.security.web.header.HeaderWriterFilter@1b2ba65c, org.springframework.web.filter.CorsFilter@7625c8db, org.springframework.security.web.authentication.logout.LogoutFilter@202d4fdb, com.example.shoppingsystem.config.JwtAuthenticationFilter@7ea03d15, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ef71036, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@18a844f2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@2ce25db0, org.springframework.security.web.session.SessionManagementFilter@70838d1e, org.springframework.security.web.access.ExceptionTranslationFilter@662f34a2, org.springframework.security.web.access.intercept.AuthorizationFilter@1c68deb9]
2025-07-20T11:17:45.821+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3a11aced, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@701546b1, org.springframework.security.web.context.SecurityContextHolderFilter@4a111dfc, org.springframework.security.web.header.HeaderWriterFilter@62ea9dbe, org.springframework.web.filter.CorsFilter@3e4e3cb7, org.springframework.security.web.authentication.logout.LogoutFilter@fbb1fb1, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6d00606b, org.springframework.security.web.session.ConcurrentSessionFilter@35a8bea8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7c206e6d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3daaa1f3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@50a3102d, org.springframework.security.web.session.SessionManagementFilter@7dd79381, org.springframework.security.web.access.ExceptionTranslationFilter@28dae392, org.springframework.security.web.access.intercept.AuthorizationFilter@18dac9e5]
2025-07-20T11:17:45.822+07:00  INFO 29063 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@42087ee8, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@59aa2b11, org.springframework.security.web.context.SecurityContextHolderFilter@2dc11981, org.springframework.security.web.header.HeaderWriterFilter@4e4fb931, org.springframework.web.filter.CorsFilter@5577f2c7, org.springframework.security.web.authentication.logout.LogoutFilter@471b944c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2be6058a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@510629ba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64f22629, org.springframework.security.web.access.ExceptionTranslationFilter@50c54bff, org.springframework.security.web.access.intercept.AuthorizationFilter@3ce1baaa]
2025-07-20T11:17:46.066+07:00  INFO 29063 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:17:46.084+07:00  INFO 29063 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:17:46.089+07:00  INFO 29063 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.652 seconds (process running for 937.902)
2025-07-20T11:17:46.090+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:17:46.091+07:00  INFO 29063 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:17:46.133+07:00  INFO 29063 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:19:22.856+07:00  INFO 29063 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:19:22.859+07:00  INFO 29063 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown initiated...
2025-07-20T11:19:22.875+07:00  INFO 29063 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-13 - Shutdown completed.
2025-07-20T11:27:28.908+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29972 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:27:28.909+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:27:28.941+07:00  INFO 29972 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:27:28.941+07:00  INFO 29972 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:27:29.393+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:27:29.464+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 67 ms. Found 21 JPA repository interfaces.
2025-07-20T11:27:29.838+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:27:29.843+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:27:29.844+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:27:29.872+07:00  INFO 29972 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:27:29.872+07:00  INFO 29972 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 931 ms
2025-07-20T11:27:29.956+07:00  INFO 29972 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:27:29.987+07:00  INFO 29972 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:27:29.989+07:00  INFO 29972 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:27:30.061+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:27:30.133+07:00  INFO 29972 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:27:30.144+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:27:30.408+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@20ca291e
2025-07-20T11:27:30.409+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:27:30.452+07:00  WARN 29972 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:27:30.652+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:27:31.227+07:00  INFO 29972 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:27:31.229+07:00  INFO 29972 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:27:31.689+07:00  INFO 29972 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:27:32.572+07:00  WARN 29972 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:27:33.006+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@20b0e6f0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@631ae6c6, org.springframework.security.web.context.SecurityContextHolderFilter@3f30823e, org.springframework.security.web.header.HeaderWriterFilter@124a2e2, org.springframework.web.filter.CorsFilter@5e34374e, org.springframework.security.web.authentication.logout.LogoutFilter@1ccf57b, com.example.shoppingsystem.config.JwtAuthenticationFilter@24096b07, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@19c1378d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3bd0fce8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31c46a04, org.springframework.security.web.session.SessionManagementFilter@434be283, org.springframework.security.web.access.ExceptionTranslationFilter@5c96771d, org.springframework.security.web.access.intercept.AuthorizationFilter@7fc785cd]
2025-07-20T11:27:33.017+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5d0aa75e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4789987d, org.springframework.security.web.context.SecurityContextHolderFilter@3d926a06, org.springframework.security.web.header.HeaderWriterFilter@161cf517, org.springframework.web.filter.CorsFilter@3ac8c8c6, org.springframework.security.web.authentication.logout.LogoutFilter@583ee246, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7209578b, org.springframework.security.web.session.ConcurrentSessionFilter@39320d6a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@14e26983, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@278dde99, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@245651b, org.springframework.security.web.session.SessionManagementFilter@665629b3, org.springframework.security.web.access.ExceptionTranslationFilter@3fefd305, org.springframework.security.web.access.intercept.AuthorizationFilter@111d843e]
2025-07-20T11:27:33.019+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@2cb044a0, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@36d5d208, org.springframework.security.web.context.SecurityContextHolderFilter@16b1befd, org.springframework.security.web.header.HeaderWriterFilter@1da979ad, org.springframework.web.filter.CorsFilter@4f59e5fe, org.springframework.security.web.authentication.logout.LogoutFilter@751dfc52, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4a7ad53c, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@38f29383, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@d6db6f3, org.springframework.security.web.access.ExceptionTranslationFilter@52941dc5, org.springframework.security.web.access.intercept.AuthorizationFilter@4510ecda]
2025-07-20T11:27:33.209+07:00  INFO 29972 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:27:33.241+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:27:33.252+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.548 seconds (process running for 4.98)
2025-07-20T11:27:33.255+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:27:33.288+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:27:37.394+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:27:37.394+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:27:37.396+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T11:28:54.152+07:00  INFO 29972 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (0 additions, 1 deletion, 0 modifications)
2025-07-20T11:28:54.174+07:00  INFO 29972 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:28:54.177+07:00  INFO 29972 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:28:54.188+07:00  WARN 29972 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [8B51214FC681D728A1CDC02FDAB27E44]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T11:28:54.195+07:00  WARN 29972 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:28:54.215+07:00  INFO 29972 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:28:54.219+07:00  INFO 29972 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:28:54.225+07:00  INFO 29972 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T11:28:54.290+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29972 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:28:54.290+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:28:54.447+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:28:54.483+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 36 ms. Found 21 JPA repository interfaces.
2025-07-20T11:28:54.591+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:28:54.591+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:28:54.591+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:28:54.601+07:00  INFO 29972 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:28:54.601+07:00  INFO 29972 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 310 ms
2025-07-20T11:28:54.638+07:00  INFO 29972 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:28:54.642+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:28:54.642+07:00  INFO 29972 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:28:54.642+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-20T11:28:54.667+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@40e0c9cb
2025-07-20T11:28:54.667+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-20T11:28:54.668+07:00  WARN 29972 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:28:54.753+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:28:54.967+07:00  INFO 29972 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:28:54.967+07:00  INFO 29972 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:28:55.088+07:00  WARN 29972 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [8B51214FC681D728A1CDC02FDAB27E44]
2025-07-20T11:28:55.665+07:00  WARN 29972 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:28:56.023+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6d5e6f61, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4aa06a9b, org.springframework.security.web.context.SecurityContextHolderFilter@7f472180, org.springframework.security.web.header.HeaderWriterFilter@38dc8929, org.springframework.security.web.csrf.CsrfFilter@6c488567, org.springframework.security.web.authentication.logout.LogoutFilter@5158632c, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7602e001, org.springframework.security.web.authentication.ui.DefaultLoginPageGeneratingFilter@30838227, org.springframework.security.web.authentication.ui.DefaultLogoutPageGeneratingFilter@671f54e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@53069be6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@578cf0b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c4acb46, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@a12a4a, org.springframework.security.web.access.ExceptionTranslationFilter@635b14d9, org.springframework.security.web.access.intercept.AuthorizationFilter@3c04f63c]
2025-07-20T11:28:56.037+07:00  INFO 29972 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:28:56.051+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:28:56.055+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.78 seconds (process running for 87.783)
2025-07-20T11:28:56.056+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:28:56.058+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:28:56.093+07:00  INFO 29972 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

   SpringBootWebSecurityConfiguration.SecurityFilterChainConfiguration matched:
      - AllNestedConditions 2 matched 0 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) did not find any beans; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration matched:
      - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)
      - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) did not find any beans (OnBeanCondition)


Negative matches:
-----------------

    None


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-20T11:28:59.510+07:00  INFO 29972 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 1 class path change (1 addition, 0 deletions, 0 modifications)
2025-07-20T11:28:59.518+07:00  INFO 29972 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:28:59.522+07:00  WARN 29972 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:28:59.522+07:00  WARN 29972 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-2 connection adder] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.LinkedBlockingQueue.poll(LinkedBlockingQueue.java:460)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1069)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:28:59.530+07:00  INFO 29972 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:28:59.532+07:00  INFO 29972 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-20T11:28:59.536+07:00  INFO 29972 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-20T11:28:59.598+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 29972 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:28:59.598+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:28:59.719+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:28:59.752+07:00  INFO 29972 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 32 ms. Found 21 JPA repository interfaces.
2025-07-20T11:28:59.846+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:28:59.846+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:28:59.846+07:00  INFO 29972 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:28:59.854+07:00  INFO 29972 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:28:59.854+07:00  INFO 29972 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 255 ms
2025-07-20T11:28:59.888+07:00  INFO 29972 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:28:59.891+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:28:59.891+07:00  INFO 29972 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:28:59.891+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-20T11:28:59.903+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5abd3998
2025-07-20T11:28:59.903+07:00  INFO 29972 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-20T11:28:59.904+07:00  WARN 29972 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:28:59.953+07:00  INFO 29972 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:29:00.128+07:00  INFO 29972 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:29:00.128+07:00  INFO 29972 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:29:00.723+07:00  WARN 29972 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:29:00.942+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@14fcc947, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@352fbbb5, org.springframework.security.web.context.SecurityContextHolderFilter@2b7d78b8, org.springframework.security.web.header.HeaderWriterFilter@37849253, org.springframework.web.filter.CorsFilter@628915c, org.springframework.security.web.authentication.logout.LogoutFilter@e25faef, com.example.shoppingsystem.config.JwtAuthenticationFilter@44a183e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@60798047, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@73fc8011, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d0e0cca, org.springframework.security.web.session.SessionManagementFilter@10d5b93b, org.springframework.security.web.access.ExceptionTranslationFilter@3ade3232, org.springframework.security.web.access.intercept.AuthorizationFilter@3519c883]
2025-07-20T11:29:00.949+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@5a4361bf, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c6fa46c, org.springframework.security.web.context.SecurityContextHolderFilter@33174534, org.springframework.security.web.header.HeaderWriterFilter@2ceb62d1, org.springframework.web.filter.CorsFilter@33f0e756, org.springframework.security.web.authentication.logout.LogoutFilter@64d992a5, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@722789e4, org.springframework.security.web.session.ConcurrentSessionFilter@6e4151c2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@449d546d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@945db72, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d563065, org.springframework.security.web.session.SessionManagementFilter@6605621e, org.springframework.security.web.access.ExceptionTranslationFilter@2e9e62bc, org.springframework.security.web.access.intercept.AuthorizationFilter@6d70501f]
2025-07-20T11:29:00.950+07:00  INFO 29972 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4f98b6e1, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@622d93ca, org.springframework.security.web.context.SecurityContextHolderFilter@4e4340f2, org.springframework.security.web.header.HeaderWriterFilter@3585aa9e, org.springframework.web.filter.CorsFilter@7e480158, org.springframework.security.web.authentication.logout.LogoutFilter@57bf54ec, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@78a692a1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1be64813, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@305d9f50, org.springframework.security.web.access.ExceptionTranslationFilter@4c15f6d0, org.springframework.security.web.access.intercept.AuthorizationFilter@32cf829b]
2025-07-20T11:29:01.024+07:00  INFO 29972 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:29:01.037+07:00  INFO 29972 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:29:01.040+07:00  INFO 29972 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.454 seconds (process running for 92.768)
2025-07-20T11:29:01.041+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:29:01.043+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:29:01.072+07:00  INFO 29972 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation delta:


==========================
CONDITION EVALUATION DELTA
==========================


Positive matches:
-----------------

    None


Negative matches:
-----------------

   SpringBootWebSecurityConfiguration.SecurityFilterChainConfiguration:
      Did not match:
         - AllNestedConditions 1 matched 1 did not; NestedCondition on DefaultWebSecurityCondition.Beans @ConditionalOnMissingBean (types: org.springframework.security.web.SecurityFilterChain; SearchStrategy: all) found beans of type 'org.springframework.security.web.SecurityFilterChain' securityFilterChain, webFilterChain, defaultFilterChain; NestedCondition on DefaultWebSecurityCondition.Classes @ConditionalOnClass found required classes 'org.springframework.security.web.SecurityFilterChain', 'org.springframework.security.config.annotation.web.builders.HttpSecurity' (DefaultWebSecurityCondition)

   SpringBootWebSecurityConfiguration.WebSecurityEnablerConfiguration:
      Did not match:
         - @ConditionalOnMissingBean (names: springSecurityFilterChain; SearchStrategy: all) found beans named springSecurityFilterChain (OnBeanCondition)
      Matched:
         - @ConditionalOnClass found required class 'org.springframework.security.config.annotation.web.configuration.EnableWebSecurity' (OnClassCondition)


Exclusions:
-----------

    None


Unconditional classes:
----------------------

    None



2025-07-20T11:32:40.944+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:32:40.946+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:32:40.956+07:00  INFO 29972 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 9 ms
2025-07-20T11:33:22.626+07:00  WARN 29972 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2025-07-20T11:33:22.627+07:00 ERROR 29972 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i1_0.agency_id' in 'field list'
2025-07-20T11:33:22.635+07:00 ERROR 29972 --- [http-nio-8080-exec-2] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 order by i1_0.submitted_date desc limit ?,?] [Unknown column 'i1_0.agency_id' in 'field list'] [n/a]; SQL [n/a]
2025-07-20T11:33:37.904+07:00  WARN 29972 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2025-07-20T11:33:37.905+07:00 ERROR 29972 --- [http-nio-8080-exec-4] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i1_0.agency_id' in 'field list'
2025-07-20T11:33:37.906+07:00 ERROR 29972 --- [http-nio-8080-exec-4] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 where i1_0.claim_status=? order by i1_0.submitted_date desc limit ?,?] [Unknown column 'i1_0.agency_id' in 'field list'] [n/a]; SQL [n/a]
2025-07-20T11:34:01.046+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:34:01.050+07:00  INFO 29972 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:34:11.336+07:00  INFO 29972 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:34:11.336+07:00  INFO 29972 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-20T11:34:11.339+07:00  INFO 29972 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-20T11:34:12.973+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30232 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:34:12.974+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:34:13.009+07:00  INFO 30232 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:34:13.009+07:00  INFO 30232 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:34:13.643+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:34:13.723+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 75 ms. Found 21 JPA repository interfaces.
2025-07-20T11:34:14.228+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:34:14.234+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:34:14.235+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:34:14.270+07:00  INFO 30232 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:34:14.270+07:00  INFO 30232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1261 ms
2025-07-20T11:34:14.416+07:00  INFO 30232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:34:14.456+07:00  INFO 30232 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:34:14.458+07:00  INFO 30232 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:34:14.534+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:34:14.610+07:00  INFO 30232 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:34:14.621+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:34:14.849+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@49c0b99
2025-07-20T11:34:14.850+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:34:14.879+07:00  WARN 30232 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:34:15.090+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:34:15.700+07:00  INFO 30232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:34:15.702+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:34:16.041+07:00  WARN 30232 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [C251EB5A9056FED647E80081A0D76D55]
2025-07-20T11:34:16.207+07:00  INFO 30232 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:34:17.262+07:00  WARN 30232 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:34:17.755+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@41c944b9, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6b187281, org.springframework.security.web.context.SecurityContextHolderFilter@4ab2c2d8, org.springframework.security.web.header.HeaderWriterFilter@6826147, org.springframework.web.filter.CorsFilter@53d6f724, org.springframework.security.web.authentication.logout.LogoutFilter@1a0a7255, com.example.shoppingsystem.config.JwtAuthenticationFilter@2a1bcb17, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@787754dc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2fdd449d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3dcdf7ab, org.springframework.security.web.session.SessionManagementFilter@491eba1e, org.springframework.security.web.access.ExceptionTranslationFilter@352c3fc9, org.springframework.security.web.access.intercept.AuthorizationFilter@15575d4]
2025-07-20T11:34:17.766+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@641e352a, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@ff6449a, org.springframework.security.web.context.SecurityContextHolderFilter@4e72b7ae, org.springframework.security.web.header.HeaderWriterFilter@7924575e, org.springframework.web.filter.CorsFilter@1fefde9b, org.springframework.security.web.authentication.logout.LogoutFilter@753fef91, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@6ed70c06, org.springframework.security.web.session.ConcurrentSessionFilter@493342f7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d85706d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12b581a8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@490e465c, org.springframework.security.web.session.SessionManagementFilter@325139da, org.springframework.security.web.access.ExceptionTranslationFilter@4f95c2f8, org.springframework.security.web.access.intercept.AuthorizationFilter@435a6a7d]
2025-07-20T11:34:17.768+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@578a3947, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@199f626b, org.springframework.security.web.context.SecurityContextHolderFilter@52e04c4d, org.springframework.security.web.header.HeaderWriterFilter@4a533b00, org.springframework.web.filter.CorsFilter@736ffcb2, org.springframework.security.web.authentication.logout.LogoutFilter@23cdb2d7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@42d413d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2047beee, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ff464bf, org.springframework.security.web.access.ExceptionTranslationFilter@60d04420, org.springframework.security.web.access.intercept.AuthorizationFilter@5cc819f1]
2025-07-20T11:34:17.974+07:00  INFO 30232 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:34:18.006+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:34:18.018+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 5.379 seconds (process running for 5.879)
2025-07-20T11:34:18.022+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:34:18.048+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:35:01.654+07:00  INFO 30232 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:35:01.654+07:00  INFO 30232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:35:01.657+07:00  INFO 30232 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T11:35:06.843+07:00  WARN 30232 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2025-07-20T11:35:06.843+07:00 ERROR 30232 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i1_0.agency_id' in 'field list'
2025-07-20T11:35:06.851+07:00 ERROR 30232 --- [http-nio-8080-exec-1] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 order by i1_0.submitted_date desc limit ?,?] [Unknown column 'i1_0.agency_id' in 'field list'] [n/a]; SQL [n/a]
2025-07-20T11:35:21.839+07:00  WARN 30232 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2025-07-20T11:35:21.840+07:00 ERROR 30232 --- [http-nio-8080-exec-2] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i1_0.agency_id' in 'field list'
2025-07-20T11:35:21.842+07:00 ERROR 30232 --- [http-nio-8080-exec-2] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 order by i1_0.submitted_date desc limit ?,?] [Unknown column 'i1_0.agency_id' in 'field list'] [n/a]; SQL [n/a]
2025-07-20T11:38:02.830+07:00  INFO 30232 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 3 class path changes (0 additions, 3 deletions, 0 modifications)
2025-07-20T11:38:02.842+07:00  INFO 30232 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:38:02.844+07:00  INFO 30232 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:38:02.848+07:00  WARN 30232 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [3E0B1A009911D0C59389A2A6AD5C943F]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T11:38:02.856+07:00  WARN 30232 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:38:02.876+07:00  INFO 30232 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:38:02.887+07:00  INFO 30232 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:38:02.906+07:00  INFO 30232 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T11:38:03.076+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30232 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:38:03.077+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:38:03.459+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:38:03.532+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 21 JPA repository interfaces.
2025-07-20T11:38:03.713+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:38:03.713+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:38:03.713+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:38:03.725+07:00  INFO 30232 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:38:03.725+07:00  INFO 30232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 646 ms
2025-07-20T11:38:03.800+07:00  INFO 30232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:38:03.807+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:38:03.807+07:00  INFO 30232 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:38:03.809+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Starting...
2025-07-20T11:38:03.831+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-2 - Added connection com.mysql.cj.jdbc.ConnectionImpl@179e52f6
2025-07-20T11:38:03.832+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Start completed.
2025-07-20T11:38:03.832+07:00  WARN 30232 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:38:03.912+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:38:04.408+07:00  INFO 30232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:38:04.409+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:38:04.535+07:00  WARN 30232 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [3E0B1A009911D0C59389A2A6AD5C943F]
2025-07-20T11:38:05.055+07:00  WARN 30232 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceClaimController' defined in file [/Users/huunhan/Desktop/app-server/target/classes/com/example/shoppingsystem/controllers/api/InsuranceClaimController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-20T11:38:05.056+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:38:05.056+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown initiated...
2025-07-20T11:38:05.059+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-2 - Shutdown completed.
2025-07-20T11:38:05.059+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:38:05.063+07:00  INFO 30232 --- [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-20T11:38:05.076+07:00 ERROR 30232 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.example.shoppingsystem.controllers.api.InsuranceClaimController required a bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' that could not be found.


Action:

Consider defining a bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' in your configuration.

2025-07-20T11:38:06.528+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30232 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:38:06.528+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:38:06.660+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:38:06.691+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 31 ms. Found 21 JPA repository interfaces.
2025-07-20T11:38:06.802+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:38:06.803+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:38:06.803+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:38:06.811+07:00  INFO 30232 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:38:06.812+07:00  INFO 30232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 282 ms
2025-07-20T11:38:06.847+07:00  INFO 30232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:38:06.851+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:38:06.851+07:00  INFO 30232 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:38:06.852+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Starting...
2025-07-20T11:38:06.866+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-3 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38fcfb01
2025-07-20T11:38:06.867+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Start completed.
2025-07-20T11:38:06.867+07:00  WARN 30232 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:38:06.924+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:38:07.111+07:00  INFO 30232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:38:07.111+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:38:07.802+07:00  WARN 30232 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:38:08.099+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@6dc898f4, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@db443b6, org.springframework.security.web.context.SecurityContextHolderFilter@130c0371, org.springframework.security.web.header.HeaderWriterFilter@5fbadd06, org.springframework.web.filter.CorsFilter@679f0f81, org.springframework.security.web.authentication.logout.LogoutFilter@e8dd221, com.example.shoppingsystem.config.JwtAuthenticationFilter@52308ba3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6061ec49, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@693a4fae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@55358bc2, org.springframework.security.web.session.SessionManagementFilter@228cbb, org.springframework.security.web.access.ExceptionTranslationFilter@4a87232a, org.springframework.security.web.access.intercept.AuthorizationFilter@5a1d10a0]
2025-07-20T11:38:08.106+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@24e646c, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@476067d5, org.springframework.security.web.context.SecurityContextHolderFilter@b46900, org.springframework.security.web.header.HeaderWriterFilter@622cea79, org.springframework.web.filter.CorsFilter@49f13e42, org.springframework.security.web.authentication.logout.LogoutFilter@6c33158f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7625984a, org.springframework.security.web.session.ConcurrentSessionFilter@6bf1365d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ce244d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2d4d0131, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@134c18fe, org.springframework.security.web.session.SessionManagementFilter@6299465b, org.springframework.security.web.access.ExceptionTranslationFilter@2b8804df, org.springframework.security.web.access.intercept.AuthorizationFilter@5daa66b5]
2025-07-20T11:38:08.107+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@4b703591, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b1b3aee, org.springframework.security.web.context.SecurityContextHolderFilter@5f4a95d8, org.springframework.security.web.header.HeaderWriterFilter@35d04cd7, org.springframework.web.filter.CorsFilter@3cddedf9, org.springframework.security.web.authentication.logout.LogoutFilter@6f73ed1c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@52096dba, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@531d1842, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@26ae130c, org.springframework.security.web.access.ExceptionTranslationFilter@3a077253, org.springframework.security.web.access.intercept.AuthorizationFilter@4deae07e]
2025-07-20T11:38:08.187+07:00  INFO 30232 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:38:08.205+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:38:08.208+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.694 seconds (process running for 236.068)
2025-07-20T11:38:08.209+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:38:08.212+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:38:08.254+07:00  INFO 30232 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:40:39.372+07:00  INFO 30232 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 0 deletions, 2 modifications)
2025-07-20T11:40:39.380+07:00  INFO 30232 --- [Thread-7] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:40:39.385+07:00  WARN 30232 --- [Thread-7] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-3 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:40:39.390+07:00  INFO 30232 --- [Thread-7] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:40:39.391+07:00  INFO 30232 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown initiated...
2025-07-20T11:40:39.397+07:00  INFO 30232 --- [Thread-7] com.zaxxer.hikari.HikariDataSource       : HikariPool-3 - Shutdown completed.
2025-07-20T11:40:39.491+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30232 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:40:39.491+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:40:39.649+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:40:39.687+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 37 ms. Found 21 JPA repository interfaces.
2025-07-20T11:40:39.805+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:40:39.806+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:40:39.806+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:40:39.815+07:00  INFO 30232 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:40:39.815+07:00  INFO 30232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 323 ms
2025-07-20T11:40:39.868+07:00  INFO 30232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:40:39.872+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:40:39.872+07:00  INFO 30232 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:40:39.872+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Starting...
2025-07-20T11:40:39.886+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-4 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5a31b2c1
2025-07-20T11:40:39.887+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Start completed.
2025-07-20T11:40:39.887+07:00  WARN 30232 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:40:39.937+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:40:40.103+07:00  INFO 30232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:40:40.104+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:40:40.755+07:00  WARN 30232 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:40:40.987+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@700fa78b, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@503f21af, org.springframework.security.web.context.SecurityContextHolderFilter@521e9158, org.springframework.security.web.header.HeaderWriterFilter@77962e2f, org.springframework.web.filter.CorsFilter@118d9bf3, org.springframework.security.web.authentication.logout.LogoutFilter@2b91602d, com.example.shoppingsystem.config.JwtAuthenticationFilter@4f62879b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@685bc2ed, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2e7a6e9f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31703c16, org.springframework.security.web.session.SessionManagementFilter@2f919d65, org.springframework.security.web.access.ExceptionTranslationFilter@73c936c0, org.springframework.security.web.access.intercept.AuthorizationFilter@601818ac]
2025-07-20T11:40:40.994+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@302b3422, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@257c1661, org.springframework.security.web.context.SecurityContextHolderFilter@40e1dc77, org.springframework.security.web.header.HeaderWriterFilter@35caca91, org.springframework.web.filter.CorsFilter@75d2e8ac, org.springframework.security.web.authentication.logout.LogoutFilter@6ded7a6d, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@36130e9f, org.springframework.security.web.session.ConcurrentSessionFilter@2adc1f8e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@231c18b8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@69cb4ac2, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5b9b677f, org.springframework.security.web.session.SessionManagementFilter@70474b42, org.springframework.security.web.access.ExceptionTranslationFilter@3e9a89b3, org.springframework.security.web.access.intercept.AuthorizationFilter@1dd9b4e6]
2025-07-20T11:40:40.995+07:00  INFO 30232 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@13a0c31e, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@35f4adf8, org.springframework.security.web.context.SecurityContextHolderFilter@782c8c78, org.springframework.security.web.header.HeaderWriterFilter@4615af3, org.springframework.web.filter.CorsFilter@75e6cddc, org.springframework.security.web.authentication.logout.LogoutFilter@15867e8c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a0a2694, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ed184e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@58be9e8e, org.springframework.security.web.access.ExceptionTranslationFilter@3844a7dc, org.springframework.security.web.access.intercept.AuthorizationFilter@313388d6]
2025-07-20T11:40:41.085+07:00  INFO 30232 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:40:41.100+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:40:41.103+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 1.629 seconds (process running for 388.962)
2025-07-20T11:40:41.104+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:40:41.107+07:00  INFO 30232 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:40:41.141+07:00  INFO 30232 --- [restartedMain] .ConditionEvaluationDeltaLoggingListener : Condition evaluation unchanged
2025-07-20T11:41:07.909+07:00  INFO 30232 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 2 class path changes (0 additions, 2 deletions, 0 modifications)
2025-07-20T11:41:07.918+07:00  INFO 30232 --- [Thread-14] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:41:07.921+07:00  WARN 30232 --- [Thread-14] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-4 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:41:07.926+07:00  INFO 30232 --- [Thread-14] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:41:07.928+07:00  INFO 30232 --- [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown initiated...
2025-07-20T11:41:07.932+07:00  INFO 30232 --- [Thread-14] com.zaxxer.hikari.HikariDataSource       : HikariPool-4 - Shutdown completed.
2025-07-20T11:41:08.029+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30232 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:41:08.030+07:00  INFO 30232 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:41:08.190+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:41:08.224+07:00  INFO 30232 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 33 ms. Found 21 JPA repository interfaces.
2025-07-20T11:41:08.329+07:00  INFO 30232 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:41:08.329+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:41:08.329+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:41:08.338+07:00  INFO 30232 --- [restartedMain] o.a.c.c.C.[Tomcat-1].[localhost].[/]     : Initializing Spring embedded WebApplicationContext
2025-07-20T11:41:08.338+07:00  INFO 30232 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 307 ms
2025-07-20T11:41:08.378+07:00  INFO 30232 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:41:08.381+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:41:08.381+07:00  INFO 30232 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:41:08.382+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Starting...
2025-07-20T11:41:08.420+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-5 - Added connection com.mysql.cj.jdbc.ConnectionImpl@6690487f
2025-07-20T11:41:08.420+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Start completed.
2025-07-20T11:41:08.420+07:00  WARN 30232 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:41:08.555+07:00  INFO 30232 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:41:08.805+07:00  INFO 30232 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:41:08.806+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:41:09.295+07:00  WARN 30232 --- [restartedMain] ConfigServletWebServerApplicationContext : Exception encountered during context initialization - cancelling refresh attempt: org.springframework.beans.factory.UnsatisfiedDependencyException: Error creating bean with name 'insuranceClaimController' defined in file [/Users/huunhan/Desktop/app-server/target/classes/com/example/shoppingsystem/controllers/api/InsuranceClaimController.class]: Unsatisfied dependency expressed through constructor parameter 0: No qualifying bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' available: expected at least 1 bean which qualifies as autowire candidate. Dependency annotations: {}
2025-07-20T11:41:09.296+07:00  INFO 30232 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:41:09.296+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown initiated...
2025-07-20T11:41:09.298+07:00  INFO 30232 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-5 - Shutdown completed.
2025-07-20T11:41:09.299+07:00  INFO 30232 --- [restartedMain] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:41:09.303+07:00  INFO 30232 --- [restartedMain] .s.b.a.l.ConditionEvaluationReportLogger : 

Error starting ApplicationContext. To display the condition evaluation report re-run your application with 'debug' enabled.
2025-07-20T11:41:09.312+07:00 ERROR 30232 --- [restartedMain] o.s.b.d.LoggingFailureAnalysisReporter   : 

***************************
APPLICATION FAILED TO START
***************************

Description:

Parameter 0 of constructor in com.example.shoppingsystem.controllers.api.InsuranceClaimController required a bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' that could not be found.


Action:

Consider defining a bean of type 'com.example.shoppingsystem.services.interfaces.InsuranceClaimService' in your configuration.

2025-07-20T11:42:48.617+07:00  INFO 30478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30478 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:42:48.618+07:00  INFO 30478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:42:48.652+07:00  INFO 30478 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:42:48.652+07:00  INFO 30478 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:42:49.141+07:00  INFO 30478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:42:49.214+07:00  INFO 30478 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 69 ms. Found 21 JPA repository interfaces.
2025-07-20T11:42:49.603+07:00  INFO 30478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:42:49.609+07:00  INFO 30478 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:42:49.609+07:00  INFO 30478 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:42:49.638+07:00  INFO 30478 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:42:49.638+07:00  INFO 30478 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 986 ms
2025-07-20T11:42:49.726+07:00  INFO 30478 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:42:49.758+07:00  INFO 30478 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:42:49.760+07:00  INFO 30478 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:42:49.837+07:00  INFO 30478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:42:49.909+07:00  INFO 30478 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:42:49.919+07:00  INFO 30478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:42:50.142+07:00  INFO 30478 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@38bdbb11
2025-07-20T11:42:50.143+07:00  INFO 30478 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:42:50.172+07:00  WARN 30478 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:42:50.376+07:00  INFO 30478 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:42:50.971+07:00  INFO 30478 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:42:50.973+07:00  INFO 30478 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:42:51.461+07:00  INFO 30478 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:42:52.414+07:00  WARN 30478 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:42:52.873+07:00  INFO 30478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@3c0cfeff, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@6244d31d, org.springframework.security.web.context.SecurityContextHolderFilter@772a540b, org.springframework.security.web.header.HeaderWriterFilter@5a30fe28, org.springframework.web.filter.CorsFilter@4b8d86fd, org.springframework.security.web.authentication.logout.LogoutFilter@60326b95, com.example.shoppingsystem.config.JwtAuthenticationFilter@10f7903e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@185efec8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4e3a4786, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@9684aed, org.springframework.security.web.session.SessionManagementFilter@7dfc6b5a, org.springframework.security.web.access.ExceptionTranslationFilter@3639feb1, org.springframework.security.web.access.intercept.AuthorizationFilter@5cb044df]
2025-07-20T11:42:52.885+07:00  INFO 30478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4e255ede, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e1a256c, org.springframework.security.web.context.SecurityContextHolderFilter@2a9f09df, org.springframework.security.web.header.HeaderWriterFilter@5b3b5722, org.springframework.web.filter.CorsFilter@44319e28, org.springframework.security.web.authentication.logout.LogoutFilter@4a6f57ce, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@7e44b7ff, org.springframework.security.web.session.ConcurrentSessionFilter@3780089a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1d6c10ce, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@e36254f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1f11321e, org.springframework.security.web.session.SessionManagementFilter@792b84c1, org.springframework.security.web.access.ExceptionTranslationFilter@45cfb237, org.springframework.security.web.access.intercept.AuthorizationFilter@b3e3dea]
2025-07-20T11:42:52.887+07:00  INFO 30478 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@6ca1645, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@dc11eb7, org.springframework.security.web.context.SecurityContextHolderFilter@4262a5d4, org.springframework.security.web.header.HeaderWriterFilter@34935d36, org.springframework.web.filter.CorsFilter@2567eaa8, org.springframework.security.web.authentication.logout.LogoutFilter@7018033, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@b7005ca, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7ece5bf3, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fa3081a, org.springframework.security.web.access.ExceptionTranslationFilter@1d2d1cd3, org.springframework.security.web.access.intercept.AuthorizationFilter@c958f6]
2025-07-20T11:42:53.079+07:00  INFO 30478 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:42:53.106+07:00  INFO 30478 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:42:53.116+07:00  INFO 30478 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.706 seconds (process running for 5.124)
2025-07-20T11:42:53.119+07:00  INFO 30478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:42:53.143+07:00  INFO 30478 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:42:53.211+07:00  INFO 30478 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:42:53.211+07:00  INFO 30478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:42:53.212+07:00  INFO 30478 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T11:43:01.789+07:00  WARN 30478 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1054, SQLState: 42S22
2025-07-20T11:43:01.790+07:00 ERROR 30478 --- [http-nio-8080-exec-3] o.h.engine.jdbc.spi.SqlExceptionHelper   : Unknown column 'i1_0.agency_id' in 'field list'
2025-07-20T11:43:01.800+07:00 ERROR 30478 --- [http-nio-8080-exec-3] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 order by i1_0.submitted_date desc limit ?,?] [Unknown column 'i1_0.agency_id' in 'field list'] [n/a]; SQL [n/a]
2025-07-20T11:46:11.478+07:00  INFO 30478 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:46:11.482+07:00  INFO 30478 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:46:11.488+07:00  INFO 30478 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T11:46:13.567+07:00  INFO 30510 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30510 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:46:13.568+07:00  INFO 30510 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:46:13.614+07:00  INFO 30510 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:46:13.614+07:00  INFO 30510 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:46:14.160+07:00  INFO 30510 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:46:14.237+07:00  INFO 30510 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 72 ms. Found 21 JPA repository interfaces.
2025-07-20T11:46:14.623+07:00  INFO 30510 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:46:14.628+07:00  INFO 30510 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:46:14.629+07:00  INFO 30510 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:46:14.658+07:00  INFO 30510 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:46:14.658+07:00  INFO 30510 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1044 ms
2025-07-20T11:46:14.748+07:00  INFO 30510 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:46:14.777+07:00  INFO 30510 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:46:14.779+07:00  INFO 30510 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:46:14.851+07:00  INFO 30510 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:46:14.922+07:00  INFO 30510 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:46:14.931+07:00  INFO 30510 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:46:15.156+07:00  INFO 30510 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@910a580
2025-07-20T11:46:15.157+07:00  INFO 30510 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:46:15.185+07:00  WARN 30510 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:46:15.385+07:00  INFO 30510 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:46:15.988+07:00  INFO 30510 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:46:15.989+07:00  INFO 30510 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:46:16.319+07:00  WARN 30510 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [F55B2B892A015FD6A7D4EC239E742964]
2025-07-20T11:46:16.475+07:00  INFO 30510 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:46:17.472+07:00  WARN 30510 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:46:17.927+07:00  INFO 30510 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@23844a35, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@693383d, org.springframework.security.web.context.SecurityContextHolderFilter@3b5f5922, org.springframework.security.web.header.HeaderWriterFilter@39f20095, org.springframework.web.filter.CorsFilter@3af2a77c, org.springframework.security.web.authentication.logout.LogoutFilter@2d349124, com.example.shoppingsystem.config.JwtAuthenticationFilter@433e0a73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@530c6ecd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@27e9e63f, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@43e0ae94, org.springframework.security.web.session.SessionManagementFilter@ae6cbfa, org.springframework.security.web.access.ExceptionTranslationFilter@3a622921, org.springframework.security.web.access.intercept.AuthorizationFilter@3813a43c]
2025-07-20T11:46:17.940+07:00  INFO 30510 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@4c207e68, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e45a295, org.springframework.security.web.context.SecurityContextHolderFilter@39bceb90, org.springframework.security.web.header.HeaderWriterFilter@232582de, org.springframework.web.filter.CorsFilter@17a6ee1b, org.springframework.security.web.authentication.logout.LogoutFilter@24a9901f, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@24e12b83, org.springframework.security.web.session.ConcurrentSessionFilter@2d97e71b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2b816c83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3056e330, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3ab6725f, org.springframework.security.web.session.SessionManagementFilter@4603f8e5, org.springframework.security.web.access.ExceptionTranslationFilter@a22ecb6, org.springframework.security.web.access.intercept.AuthorizationFilter@28803947]
2025-07-20T11:46:17.942+07:00  INFO 30510 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@1ef93299, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4bf167ca, org.springframework.security.web.context.SecurityContextHolderFilter@b7e7662, org.springframework.security.web.header.HeaderWriterFilter@15e61df3, org.springframework.web.filter.CorsFilter@4e8b42b, org.springframework.security.web.authentication.logout.LogoutFilter@5841a397, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26743804, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5d89050, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@507c5926, org.springframework.security.web.access.ExceptionTranslationFilter@14d6fb29, org.springframework.security.web.access.intercept.AuthorizationFilter@1e69453d]
2025-07-20T11:46:18.135+07:00  INFO 30510 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:46:18.164+07:00  INFO 30510 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:46:18.175+07:00  INFO 30510 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 4.985 seconds (process running for 5.608)
2025-07-20T11:46:18.178+07:00  INFO 30510 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:46:18.204+07:00  INFO 30510 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:46:23.525+07:00  INFO 30510 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:46:23.526+07:00  INFO 30510 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:46:23.528+07:00  INFO 30510 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 2 ms
2025-07-20T11:46:28.705+07:00  WARN 30510 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : SQL Error: 1146, SQLState: 42S02
2025-07-20T11:46:28.705+07:00 ERROR 30510 --- [http-nio-8080-exec-1] o.h.engine.jdbc.spi.SqlExceptionHelper   : Table 'ctu_shop_db.insurance_claim' doesn't exist
2025-07-20T11:46:28.713+07:00 ERROR 30510 --- [http-nio-8080-exec-1] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.springframework.dao.InvalidDataAccessResourceUsageException: JDBC exception executing SQL [select i1_0.claim_id,i1_0.admin_notes,i1_0.agency_id,i1_0.claim_code,i1_0.claim_description,i1_0.claim_status,i1_0.claim_title,i1_0.compensation_amount,i1_0.compensation_type,i1_0.created_by,i1_0.created_date,i1_0.customer_id,i1_0.customer_idcard_back_url,i1_0.customer_idcard_front_url,i1_0.doctor_report_urls,i1_0.medical_bill_urls,i1_0.order_id,i1_0.other_evidence_urls,i1_0.processed_by,i1_0.processed_date,i1_0.product_id,i1_0.rejection_reason,i1_0.severity_level,i1_0.submitted_date,i1_0.test_result_urls,i1_0.updated_by,i1_0.updated_date from insurance_claim i1_0 order by i1_0.submitted_date desc limit ?,?] [Table 'ctu_shop_db.insurance_claim' doesn't exist] [n/a]; SQL [n/a]
2025-07-20T11:46:37.635+07:00  INFO 30510 --- [SpringApplicationShutdownHook] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:46:37.640+07:00  INFO 30510 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:46:37.651+07:00  INFO 30510 --- [SpringApplicationShutdownHook] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
2025-07-20T11:47:33.711+07:00  INFO 30560 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Starting ShoppingSystemApplication using Java 23.0.2 with PID 30560 (/Users/huunhan/Desktop/app-server/target/classes started by huunhan in /Users/huunhan/Desktop/app-server)
2025-07-20T11:47:33.712+07:00  INFO 30560 --- [restartedMain] c.e.s.ShoppingSystemApplication          : No active profile set, falling back to 1 default profile: "default"
2025-07-20T11:47:33.747+07:00  INFO 30560 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : Devtools property defaults active! Set 'spring.devtools.add-properties' to 'false' to disable
2025-07-20T11:47:33.747+07:00  INFO 30560 --- [restartedMain] .e.DevToolsPropertyDefaultsPostProcessor : For additional web related logging consider setting the 'logging.level.web' property to 'DEBUG'
2025-07-20T11:47:34.304+07:00  INFO 30560 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2025-07-20T11:47:34.380+07:00  INFO 30560 --- [restartedMain] .s.d.r.c.RepositoryConfigurationDelegate : Finished Spring Data repository scanning in 70 ms. Found 21 JPA repository interfaces.
2025-07-20T11:47:34.763+07:00  INFO 30560 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat initialized with port(s): 8080 (http)
2025-07-20T11:47:34.769+07:00  INFO 30560 --- [restartedMain] o.apache.catalina.core.StandardService   : Starting service [Tomcat]
2025-07-20T11:47:34.769+07:00  INFO 30560 --- [restartedMain] o.apache.catalina.core.StandardEngine    : Starting Servlet engine: [Apache Tomcat/10.1.13]
2025-07-20T11:47:34.800+07:00  INFO 30560 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring embedded WebApplicationContext
2025-07-20T11:47:34.800+07:00  INFO 30560 --- [restartedMain] w.s.c.ServletWebServerApplicationContext : Root WebApplicationContext: initialization completed in 1053 ms
2025-07-20T11:47:34.892+07:00  INFO 30560 --- [restartedMain] o.hibernate.jpa.internal.util.LogHelper  : HHH000204: Processing PersistenceUnitInfo [name: default]
2025-07-20T11:47:34.926+07:00  INFO 30560 --- [restartedMain] org.hibernate.Version                    : HHH000412: Hibernate ORM core version 6.2.9.Final
2025-07-20T11:47:34.928+07:00  INFO 30560 --- [restartedMain] org.hibernate.cfg.Environment            : HHH000406: Using bytecode reflection optimizer
2025-07-20T11:47:35.007+07:00  INFO 30560 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:47:35.080+07:00  INFO 30560 --- [restartedMain] o.s.o.j.p.SpringPersistenceUnitInfo      : No LoadTimeWeaver setup: ignoring JPA class transformer
2025-07-20T11:47:35.091+07:00  INFO 30560 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Starting...
2025-07-20T11:47:35.315+07:00  INFO 30560 --- [restartedMain] com.zaxxer.hikari.pool.HikariPool        : HikariPool-1 - Added connection com.mysql.cj.jdbc.ConnectionImpl@5c5a2e66
2025-07-20T11:47:35.316+07:00  INFO 30560 --- [restartedMain] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Start completed.
2025-07-20T11:47:35.347+07:00  WARN 30560 --- [restartedMain] org.hibernate.orm.deprecation            : HHH90000026: MySQL8Dialect has been deprecated; use org.hibernate.dialect.MySQLDialect instead
2025-07-20T11:47:35.554+07:00  INFO 30560 --- [restartedMain] o.h.b.i.BytecodeProviderInitiator        : HHH000021: Bytecode provider name : bytebuddy
2025-07-20T11:47:36.179+07:00  INFO 30560 --- [restartedMain] o.h.e.t.j.p.i.JtaPlatformInitiator       : HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2025-07-20T11:47:36.641+07:00  INFO 30560 --- [restartedMain] j.LocalContainerEntityManagerFactoryBean : Initialized JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:47:36.968+07:00  WARN 30560 --- [restartedMain] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot deserialize session attribute [SPRING_SECURITY_CONTEXT] for session [E2D98D4990C2BA4B56EE85C0398A6F8A]
2025-07-20T11:47:37.128+07:00  INFO 30560 --- [restartedMain] o.s.d.j.r.query.QueryEnhancerFactory     : Hibernate is in classpath; If applicable, HQL parser will be used.
2025-07-20T11:47:38.412+07:00  WARN 30560 --- [restartedMain] JpaBaseConfiguration$JpaWebConfiguration : spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2025-07-20T11:47:38.939+07:00  INFO 30560 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/api/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@2f4d4b08, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e2b5de4, org.springframework.security.web.context.SecurityContextHolderFilter@f591c1c, org.springframework.security.web.header.HeaderWriterFilter@5b68affe, org.springframework.web.filter.CorsFilter@5533dcec, org.springframework.security.web.authentication.logout.LogoutFilter@3bf78e06, com.example.shoppingsystem.config.JwtAuthenticationFilter@5ffd3ca6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6735f38b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3a745c70, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1ce8482c, org.springframework.security.web.session.SessionManagementFilter@406e1e2c, org.springframework.security.web.access.ExceptionTranslationFilter@62f5735b, org.springframework.security.web.access.intercept.AuthorizationFilter@49770c01]
2025-07-20T11:47:38.952+07:00  INFO 30560 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure Or [Mvc [pattern='/admin/**']] with [org.springframework.security.web.session.DisableEncodeUrlFilter@19cdcd66, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1d898f45, org.springframework.security.web.context.SecurityContextHolderFilter@2a8e94b3, org.springframework.security.web.header.HeaderWriterFilter@6291b7d4, org.springframework.web.filter.CorsFilter@4af12e9, org.springframework.security.web.authentication.logout.LogoutFilter@18b3b56a, org.springframework.security.web.authentication.UsernamePasswordAuthenticationFilter@1cd02373, org.springframework.security.web.session.ConcurrentSessionFilter@3f6475f6, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@36d98fd1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e1b12c1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@197972b4, org.springframework.security.web.session.SessionManagementFilter@1a0fc22e, org.springframework.security.web.access.ExceptionTranslationFilter@13f912c1, org.springframework.security.web.access.intercept.AuthorizationFilter@fb2d1ac]
2025-07-20T11:47:38.954+07:00  INFO 30560 --- [restartedMain] o.s.s.web.DefaultSecurityFilterChain     : Will secure any request with [org.springframework.security.web.session.DisableEncodeUrlFilter@140d0121, org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2ac933aa, org.springframework.security.web.context.SecurityContextHolderFilter@35978a81, org.springframework.security.web.header.HeaderWriterFilter@6761e4fd, org.springframework.web.filter.CorsFilter@1fb34ece, org.springframework.security.web.authentication.logout.LogoutFilter@78a8da50, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ff32b44, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19ccdca7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@63b2333c, org.springframework.security.web.access.ExceptionTranslationFilter@7050d33e, org.springframework.security.web.access.intercept.AuthorizationFilter@7121bb87]
2025-07-20T11:47:39.203+07:00  INFO 30560 --- [restartedMain] o.s.b.d.a.OptionalLiveReloadServer       : LiveReload server is running on port 35729
2025-07-20T11:47:39.235+07:00  INFO 30560 --- [restartedMain] o.s.b.w.embedded.tomcat.TomcatWebServer  : Tomcat started on port(s): 8080 (http) with context path ''
2025-07-20T11:47:39.246+07:00  INFO 30560 --- [restartedMain] c.e.s.ShoppingSystemApplication          : Started ShoppingSystemApplication in 5.759 seconds (process running for 6.24)
2025-07-20T11:47:39.250+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:47:39.275+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:47:40.488+07:00  INFO 30560 --- [http-nio-8080-exec-1] o.a.c.c.C.[Tomcat].[localhost].[/]       : Initializing Spring DispatcherServlet 'dispatcherServlet'
2025-07-20T11:47:40.488+07:00  INFO 30560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Initializing Servlet 'dispatcherServlet'
2025-07-20T11:47:40.489+07:00  INFO 30560 --- [http-nio-8080-exec-1] o.s.web.servlet.DispatcherServlet        : Completed initialization in 1 ms
2025-07-20T11:47:45.533+07:00 ERROR 30560 --- [http-nio-8080-exec-1] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-1] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#authentication.principal.fullname" (template: "admin/insurance/management" - line 149, col 35)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#authentication.principal.fullname" (template: "admin/insurance/management" - line 149, col 35)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'principal' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:218) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:105) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:93) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:65) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:95) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 123 common frames omitted

2025-07-20T11:47:45.539+07:00 ERROR 30560 --- [http-nio-8080-exec-1] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:49:11.766+07:00 ERROR 30560 --- [http-nio-8080-exec-5] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-5] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Exception evaluating SpringEL expression: "#authentication.principal.fullname" (template: "admin/insurance/management" - line 149, col 35)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Exception evaluating SpringEL expression: "#authentication.principal.fullname" (template: "admin/insurance/management" - line 149, col 35)
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:292) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.VariableExpression.executeVariableExpression(VariableExpression.java:166) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.SimpleExpression.executeSimple(SimpleExpression.java:66) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:109) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.Expression.execute(Expression.java:138) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:144) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleOpenElementEnd(TemplateHandlerAdapterMarkupHandler.java:304) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:278) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleOpenElementEnd(OutputExpressionInlinePreProcessorHandler.java:186) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleOpenElementEnd(InlinedOutputExpressionMarkupHandler.java:124) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleOpenElementEnd(HtmlElement.java:109) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleOpenElementEnd(HtmlMarkupHandler.java:297) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleOpenElementEnd(MarkupEventProcessorHandler.java:402) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseOpenElement(ParsingElementMarkupUtil.java:159) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:710) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted
Caused by: org.springframework.expression.spel.SpelEvaluationException: EL1007E: Property or field 'principal' cannot be found on null
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.readProperty(PropertyOrFieldReference.java:218) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:105) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.PropertyOrFieldReference.getValueInternal(PropertyOrFieldReference.java:93) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueRef(CompoundExpression.java:65) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.CompoundExpression.getValueInternal(CompoundExpression.java:95) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.ast.SpelNodeImpl.getValue(SpelNodeImpl.java:114) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:338) ~[spring-expression-6.0.12.jar:6.0.12]
	at org.thymeleaf.spring6.expression.SPELVariableExpressionEvaluator.evaluate(SPELVariableExpressionEvaluator.java:265) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 123 common frames omitted

2025-07-20T11:49:11.770+07:00 ERROR 30560 --- [http-nio-8080-exec-5] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:52:39.254+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:52:39.264+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:53:13.626+07:00 ERROR 30560 --- [http-nio-8080-exec-4] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-4] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted

2025-07-20T11:53:13.630+07:00 ERROR 30560 --- [http-nio-8080-exec-4] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:54:13.914+07:00 ERROR 30560 --- [http-nio-8080-exec-6] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-6] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted

2025-07-20T11:54:13.918+07:00 ERROR 30560 --- [http-nio-8080-exec-6] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:54:16.114+07:00 ERROR 30560 --- [http-nio-8080-exec-9] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-9] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted

2025-07-20T11:54:16.117+07:00 ERROR 30560 --- [http-nio-8080-exec-9] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:54:16.882+07:00 ERROR 30560 --- [http-nio-8080-exec-7] org.thymeleaf.TemplateEngine             : [THYMELEAF][http-nio-8080-exec-7] Exception processing template "admin/insurance/management": An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")

org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:241) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parseStandalone(AbstractMarkupTemplateParser.java:100) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateManager.parseAndProcess(TemplateManager.java:666) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1103) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.TemplateEngine.process(TemplateEngine.java:1077) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.renderFragment(ThymeleafView.java:372) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.spring6.view.ThymeleafView.render(ThymeleafView.java:192) ~[thymeleaf-spring6-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.springframework.web.servlet.DispatcherServlet.render(DispatcherServlet.java:1415) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.processDispatchResult(DispatcherServlet.java:1159) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1098) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:974) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1011) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:903) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:564) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:885) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at jakarta.servlet.http.HttpServlet.service(HttpServlet.java:658) ~[tomcat-embed-core-10.1.13.jar:6.0]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:205) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:51) ~[tomcat-embed-websocket-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at com.example.shoppingsystem.config.JwtAuthenticationFilter.doFilterInternal(JwtAuthenticationFilter.java:74) ~[classes/:na]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.servlet.resource.ResourceUrlEncodingFilter.doFilter(ResourceUrlEncodingFilter.java:66) ~[spring-webmvc-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.security.web.FilterChainProxy.lambda$doFilterInternal$3(FilterChainProxy.java:231) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:365) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.intercept.AuthorizationFilter.doFilter(AuthorizationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:126) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:120) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:131) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:85) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:100) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:179) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:151) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.ConcurrentSessionFilter.doFilter(ConcurrentSessionFilter.java:129) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:227) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:221) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:107) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:93) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.CorsFilter.doFilterInternal(CorsFilter.java:91) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:82) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.SecurityContextHolderFilter.doFilter(SecurityContextHolderFilter.java:69) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:62) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.session.DisableEncodeUrlFilter.doFilterInternal(DisableEncodeUrlFilter.java:42) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:374) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:233) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:191) ~[spring-security-web-6.1.4.jar:6.1.4]
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:352) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:268) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201) ~[spring-web-6.0.12.jar:6.0.12]
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:116) ~[spring-web-6.0.12.jar:6.0.12]
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:174) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:149) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:167) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:90) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:482) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:115) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:93) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:74) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:341) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:391) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:63) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:894) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1740) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:52) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1191) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:659) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.lang.Thread.run(Thread.java:1575) ~[na:na]
Caused by: org.attoparser.ParseException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:393) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parse(MarkupParser.java:257) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.thymeleaf.templateparser.markup.AbstractMarkupTemplateParser.parse(AbstractMarkupTemplateParser.java:230) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	... 102 common frames omitted
Caused by: org.thymeleaf.exceptions.TemplateProcessingException: Could not parse as expression: "'badge ' +
                                                (${claim.claimStatus == 'SUBMITTED'} ? 'bg-warning' :
                                                 ${claim.claimStatus == 'UNDER_REVIEW'} ? 'bg-info' :
                                                 ${claim.claimStatus == 'APPROVED'} ? 'bg-success' :
                                                 ${claim.claimStatus == 'REJECTED'} ? 'bg-danger' : 'bg-secondary')" (template: "admin/insurance/management" - line 266, col 51)
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:131) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:62) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.expression.StandardExpressionParser.parseExpression(StandardExpressionParser.java:44) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.parseAttributeExpression(EngineEventUtils.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.EngineEventUtils.computeAttributeExpression(EngineEventUtils.java:207) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.processor.AbstractStandardExpressionAttributeTagProcessor.doProcess(AbstractStandardExpressionAttributeTagProcessor.java:125) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractAttributeTagProcessor.doProcess(AbstractAttributeTagProcessor.java:74) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.processor.element.AbstractElementTagProcessor.process(AbstractElementTagProcessor.java:95) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.util.ProcessorConfigurationUtils$ElementTagProcessorWrapper.process(ProcessorConfigurationUtils.java:633) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleOpenElement(ProcessorTemplateHandler.java:1314) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.OpenElementTag.beHandled(OpenElementTag.java:205) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:282) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.Model.process(Model.java:290) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.processIterationModel(IteratedGatheringModelProcessable.java:368) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.IteratedGatheringModelProcessable.process(IteratedGatheringModelProcessable.java:222) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.ProcessorTemplateHandler.handleCloseElement(ProcessorTemplateHandler.java:1640) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.engine.TemplateHandlerAdapterMarkupHandler.handleCloseElementEnd(TemplateHandlerAdapterMarkupHandler.java:388) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler$InlineMarkupAdapterPreProcessorHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:322) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.standard.inline.OutputExpressionInlinePreProcessorHandler.handleCloseElementEnd(OutputExpressionInlinePreProcessorHandler.java:220) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.thymeleaf.templateparser.markup.InlinedOutputExpressionMarkupHandler.handleCloseElementEnd(InlinedOutputExpressionMarkupHandler.java:164) ~[thymeleaf-3.1.2.RELEASE.jar:3.1.2.RELEASE]
	at org.attoparser.HtmlElement.handleCloseElementEnd(HtmlElement.java:169) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.HtmlMarkupHandler.handleCloseElementEnd(HtmlMarkupHandler.java:412) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupEventProcessorHandler.handleCloseElementEnd(MarkupEventProcessorHandler.java:473) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.ParsingElementMarkupUtil.parseCloseElement(ParsingElementMarkupUtil.java:201) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseBuffer(MarkupParser.java:725) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	at org.attoparser.MarkupParser.parseDocument(MarkupParser.java:301) ~[attoparser-2.0.7.RELEASE.jar:2.0.7.RELEASE]
	... 104 common frames omitted

2025-07-20T11:54:16.884+07:00 ERROR 30560 --- [http-nio-8080-exec-7] c.e.s.config.JwtAuthenticationFilter     : An error occurred while processing the request. Reason: Request processing failed: org.thymeleaf.exceptions.TemplateInputException: An error happened during template parsing (template: "class path resource [templates/admin/insurance/management.html]")
2025-07-20T11:57:39.258+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : Starting OTP cleanup...
2025-07-20T11:57:39.263+07:00  INFO 30560 --- [scheduling-1] c.e.shoppingsystem.auth.OtpServiceImpl   : OTP cleanup completed.
2025-07-20T11:57:44.269+07:00  INFO 30560 --- [File Watcher] rtingClassPathChangeChangedEventListener : Restarting due to 23 class path changes (0 additions, 0 deletions, 23 modifications)
2025-07-20T11:57:44.285+07:00  INFO 30560 --- [Thread-5] o.apache.catalina.core.StandardService   : Stopping service [Tomcat]
2025-07-20T11:57:44.293+07:00  INFO 30560 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Destroying Spring FrameworkServlet 'dispatcherServlet'
2025-07-20T11:57:44.297+07:00  WARN 30560 --- [Thread-5] o.a.c.c.C.[Tomcat].[localhost].[/]       : Cannot serialize session attribute [SPRING_SECURITY_CONTEXT] for session [60880EFFDA33B27199553B0DAAB87646]

java.io.NotSerializableException: com.example.shoppingsystem.entities.ApprovalStatus
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1201) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.defaultWriteFields(ObjectOutputStream.java:1586) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeSerialData(ObjectOutputStream.java:1543) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeOrdinaryObject(ObjectOutputStream.java:1452) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject0(ObjectOutputStream.java:1195) ~[na:na]
	at java.base/java.io.ObjectOutputStream.writeObject(ObjectOutputStream.java:359) ~[na:na]
	at org.apache.catalina.session.StandardSession.doWriteObject(StandardSession.java:1526) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardSession.writeObjectData(StandardSession.java:1000) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.doUnload(StandardManager.java:307) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.unload(StandardManager.java:259) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.session.StandardManager.stopInternal(StandardManager.java:374) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardContext.stopInternal(StandardContext.java:5089) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1348) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.ContainerBase$StopChild.call(ContainerBase.java:1337) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.FutureTask.run(FutureTask.java:317) ~[na:na]
	at org.apache.tomcat.util.threads.InlineExecutorService.execute(InlineExecutorService.java:75) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at java.base/java.util.concurrent.AbstractExecutorService.submit(AbstractExecutorService.java:148) ~[na:na]
	at org.apache.catalina.core.ContainerBase.stopInternal(ContainerBase.java:931) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardService.stopInternal(StandardService.java:496) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.core.StandardServer.stopInternal(StandardServer.java:970) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.util.LifecycleBase.stop(LifecycleBase.java:242) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.apache.catalina.startup.Tomcat.stop(Tomcat.java:495) ~[tomcat-embed-core-10.1.13.jar:10.1.13]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stopTomcat(TomcatWebServer.java:273) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.embedded.tomcat.TomcatWebServer.stop(TomcatWebServer.java:331) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.boot.web.servlet.context.WebServerStartStopLifecycle.stop(WebServerStartStopLifecycle.java:53) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.SmartLifecycle.stop(SmartLifecycle.java:117) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.doStop(DefaultLifecycleProcessor.java:235) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor$LifecycleGroup.stop(DefaultLifecycleProcessor.java:374) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.stopBeans(DefaultLifecycleProcessor.java:207) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.DefaultLifecycleProcessor.onClose(DefaultLifecycleProcessor.java:130) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.context.support.AbstractApplicationContext.doClose(AbstractApplicationContext.java:1068) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.web.servlet.context.ServletWebServerApplicationContext.doClose(ServletWebServerApplicationContext.java:173) ~[spring-boot-3.1.4.jar:3.1.4]
	at org.springframework.context.support.AbstractApplicationContext.close(AbstractApplicationContext.java:1027) ~[spring-context-6.0.12.jar:6.0.12]
	at org.springframework.boot.devtools.restart.Restarter.stop(Restarter.java:308) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter.lambda$restart$1(Restarter.java:250) ~[spring-boot-devtools-3.1.4.jar:3.1.4]
	at org.springframework.boot.devtools.restart.Restarter$LeakSafeThread.run(Restarter.java:614) ~[spring-boot-devtools-3.1.4.jar:3.1.4]

2025-07-20T11:57:44.300+07:00  WARN 30560 --- [Thread-5] o.a.c.loader.WebappClassLoaderBase       : The web application [ROOT] appears to have started a thread named [HikariPool-1 housekeeper] but has failed to stop it. This is very likely to create a memory leak. Stack trace of thread:
 java.base/jdk.internal.misc.Unsafe.park(Native Method)
 java.base/java.util.concurrent.locks.LockSupport.parkNanos(LockSupport.java:269)
 java.base/java.util.concurrent.locks.AbstractQueuedSynchronizer$ConditionObject.awaitNanos(AbstractQueuedSynchronizer.java:1763)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:1182)
 java.base/java.util.concurrent.ScheduledThreadPoolExecutor$DelayedWorkQueue.take(ScheduledThreadPoolExecutor.java:899)
 java.base/java.util.concurrent.ThreadPoolExecutor.getTask(ThreadPoolExecutor.java:1070)
 java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1130)
 java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:642)
 java.base/java.lang.Thread.run(Thread.java:1575)
2025-07-20T11:57:44.315+07:00  INFO 30560 --- [Thread-5] j.LocalContainerEntityManagerFactoryBean : Closing JPA EntityManagerFactory for persistence unit 'default'
2025-07-20T11:57:44.318+07:00  INFO 30560 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown initiated...
2025-07-20T11:57:44.325+07:00  INFO 30560 --- [Thread-5] com.zaxxer.hikari.HikariDataSource       : HikariPool-1 - Shutdown completed.
